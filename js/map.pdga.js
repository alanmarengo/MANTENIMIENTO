function ol_map() {

	this.container = {};
	this.nav = {};
	this.panel = {};
	this.panel.div = document.getElementById("nav-panel");
	this.map = {};
	this.map.infoEnabled = true;
	this.popup = {};
	this.map.baselayers = {};
	this.map.layersBuffer = [];
	this.map.layersBufferIndex = 0;
	this.map.layersStats = [];
	this.map.layersStatsIndex = 200000;
	
	this.map.geovisor = -1;
		
	$(".datepicker").datepicker({
		
		language: 'es'
		
	});
	
	// MAP SCRIPTS 
	
	this.map.create = function() {
		
		this.baselayers.openstreets = new ol.layer.Tile({
			name: 'openstreets',
			title: 'OSM',
			type: 'base',
			visible: false,
			source: new ol.source.XYZ({
				url: '//{a-c}.tile.openstreetmaps.org/{z}/{x}/{y}.png',
				crossOrigin: 'anonymous'
			})
		})
	
		this.baselayers.opentopo = new ol.layer.Tile({
			name: 'opentopo',
			title: 'OpenTopo',
			type: 'base',
			visible: false,
			source: new ol.source.XYZ({
				url: '//{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png',
				crossOrigin: 'anonymous'
			})
		})

		this.baselayers.bingmaps = new ol.source.BingMaps({
			name:'bing',
			key: 'AmqIEhx8ko1O3p1Npagu9_Egw7e8quBgM03p6_xdFqjSfJa6kWv_iUU2nO1htz1G',
			imagerySet: 'Road',
			culture: 'ar-ES',
			visible:false,
			crossOrigin: 'anonymous'
		})

		this.baselayers.bing_roads = new ol.layer.Tile({
			name:'bing_roads',
			preload: Infinity,
			source: this.baselayers.bingmaps,
			visible:false,
			crossOrigin: 'anonymous'
		})

		this.baselayers.bing_aerials = new ol.layer.Tile({
			name:'bing_aerials',
			preload: Infinity,
			visible:true,
			source: new ol.source.BingMaps({
				key: 'AmqIEhx8ko1O3p1Npagu9_Egw7e8quBgM03p6_xdFqjSfJa6kWv_iUU2nO1htz1G',
				imagerySet: 'Aerial',
				crossOrigin: 'anonymous'
			})
		})

		this.baselayers.google = new ol.layer.Tile({
			name:'google_base',
			visible:false,
			source: new ol.source.TileImage({ 
				url: 'http://mt{0-3}.googleapis.com/vt?&x={x}&y={y}&z={z}&hl=es&gl=AR',
				crossOrigin: 'anonymous'
			})
		})		
	
		this.baselayers.argenmap = new ol.layer.Tile({
			name:"capabaseargenmap",
			visible:false,
			source: new ol.source.TileWMS({
				url: "https://wms.ign.gob.ar/geoserver/ows",
				params: {
					'LAYERS': 'capabaseargenmap',
					'VERSION': '1.1.1',
					'FORMAT': 'image/png',
					'TILED': false
				}/*,
				crossOrigin: 'anonymous'*/
			})
		})
	
		/*this.baselayers.argenmap = new ol.layer.Tile({
			name:'capabaseargenmap',
			visible:true,
			source: new ol.source.TileImage({ 
				url: 'https://wms.ign.gob.ar/geoserver/ows',
				crossOrigin: 'anonymous'
			})
		})*/
		
		var layer_872 = new ol.layer.Tile({
			name:"ahrsc:cuenca_mapa_pga",
			visible:true,
			source: new ol.source.TileWMS({
				url: "http://observatorio.ieasa.com.ar/geoserver/ows?",
				params: {
					'LAYERS': "ahrsc:cuenca_mapa_pga",
					'VERSION': '1.1.1',
					'FORMAT': 'image/png',
					'TILED': false,
					'clase_id':-1,
					'layer_id':872
				}/*,
				crossOrigin: 'anonymous'*/
			})
		});
		
		
		var wkts = [
			
			'MULTIPOLYGON (((-70.2264082676049 -50.3079328636935,-70.2346596444375 -50.3066848935802,-70.2391469696398 -50.3082915417068,-70.241844885729 -50.3106594438885,-70.2439660026644 -50.3110871574353,-70.2458668382546 -50.309335463845,-70.2495724699462 -50.3108757471481,-70.2509934676705 -50.3110117461706,-70.2509934695202 -50.3110117461507,-70.253888683614 -50.3088639045109,-70.2653951571822 -50.3118418581284,-70.2660926809497 -50.3094632085619,-70.2666148397018 -50.3087649843139,-70.2711223091836 -50.3104281687389,-70.2723067252846 -50.310633609611,-70.2760163316117 -50.3099687736964,-70.2845672406393 -50.3099530679578,-70.2869591066731 -50.307662048788,-70.2910763044551 -50.3077873746553,-70.293736385104 -50.3043168865483,-70.3013778310458 -50.3028750215976,-70.3022829517822 -50.3029728706124,-70.313062871853 -50.3068645405638,-70.3134608609111 -50.3029494260722,-70.3167062572633 -50.301744713027,-70.314995802713 -50.2985322201836,-70.3188875638596 -50.2962170882789,-70.3286243451025 -50.295870419219,-70.3327134349069 -50.2941751877342,-70.3359791173051 -50.2941376991893,-70.3397701116925 -50.295231811209,-70.3410995677035 -50.295155551056,-70.3446389452219 -50.2937631882915,-70.3468159291044 -50.2895111149775,-70.3531554316561 -50.2883011287663,-70.3557982383475 -50.2876024292087,-70.3558848376258 -50.2847116480758,-70.3592254117118 -50.2839706694686,-70.3643075515336 -50.2837667675368,-70.3657525924697 -50.2839036946201,-70.3708401441982 -50.2854212628863,-70.3713804009838 -50.2854148895837,-70.3712619449908 -50.2812929844485,-70.3775857985485 -50.2810013558799,-70.3806196846882 -50.2825353281668,-70.3833301994812 -50.2813671462116,-70.3858566853635 -50.2814341828348,-70.3868557181139 -50.281528665288,-70.3940854655438 -50.2832196307645,-70.3956862892446 -50.2826878667334,-70.4015837336594 -50.2796759119527,-70.4030923884944 -50.2794960194695,-70.403632571685 -50.2794894967412,-70.4038601838785 -50.2820277138609,-70.4130212936753 -50.284664266967,-70.4209942161702 -50.2805495171099,-70.4266134463215 -50.2799887966993,-70.4305698969053 -50.279725448988,-70.4375422516956 -50.28089355631,-70.4426403209944 -50.2828208613347,-70.4477790601898 -50.2814182727917,-70.4523535602679 -50.2823536135271,-70.457186172925 -50.2864695620922,-70.4609259833539 -50.287115978977,-70.4731682899179 -50.2859326637145,-70.4795526171912 -50.2837419175238,-70.4797772880758 -50.2837390571255,-70.4838372555055 -50.2847676711974,-70.4877351617593 -50.2862780646445,-70.4962892590757 -50.2842253900537,-70.4982810050838 -50.2821168866022,-70.4999015744667 -50.2820959832949,-70.504717657589 -50.2837021543761,-70.5084907373153 -50.2859478584656,-70.523371794399 -50.2852471580309,-70.5296810071137 -50.2839348564146,-70.5388281405057 -50.2826259201491,-70.5420444230986 -50.2787742417601,-70.5424863608285 -50.2787683769684,-70.5455945161647 -50.2793704290792,-70.5478654113048 -50.2792194233458,-70.5532891375817 -50.2786244946092,-70.5551255998486 -50.27859993473,-70.5672747617089 -50.2835162323998,-70.5704265300003 -50.2843192101082,-70.5761967075616 -50.2842059163853,-70.5794502579357 -50.2885276871547,-70.5818873583444 -50.2877456537018,-70.5827431890475 -50.2868840473272,-70.5831274821242 -50.284504335278,-70.5837202295045 -50.28375423387,-70.5869843602947 -50.284402262175,-70.5869843739361 -50.2844022641632,-70.5891451424339 -50.2843727390099,-70.5910972248146 -50.2815437418271,-70.5968562150323 -50.280924820617,-70.5990313672124 -50.2810340585455,-70.6004734031934 -50.2812694775061,-70.6039657071849 -50.283047061155,-70.6093392540071 -50.2827473052602,-70.611724544527 -50.28306528697,-70.6292197385314 -50.2871671562665,-70.6309537798158 -50.2889796512103,-70.6325730900754 -50.2898666860427,-70.6417453221339 -50.2919703757651,-70.6509431409251 -50.2922038084076,-70.6523024776256 -50.2915949281387,-70.6536063610867 -50.2886676310415,-70.6558170058853 -50.2870563533061,-70.6572676866541 -50.2851526760546,-70.6578078663483 -50.2851449720192,-70.6580791730842 -50.2851843406051,-70.6692675723587 -50.2876490950265,-70.6768479335393 -50.2886809004268,-70.6779283686989 -50.2886653065581,-70.6801355164575 -50.286878929509,-70.6828408215162 -50.285610573928,-70.6875739625873 -50.2869621633018,-70.691855148441 -50.2886544538591,-70.6987223670327 -50.2870103154073,-70.7032762426535 -50.2849248260141,-70.7122262395552 -50.2834787755013,-70.7169559948833 -50.2826701758953,-70.7243202929195 -50.2807965800237,-70.7301869012897 -50.2764116210511,-70.7363697410915 -50.275686935779,-70.7406839895679 -50.278553722348,-70.7407974693503 -50.2785641019585,-70.747600189007 -50.2789633681815,-70.755107138671 -50.2786573002541,-70.7658726502741 -50.2768591944491,-70.7693959631793 -50.2774396092354,-70.7732696338325 -50.2764643417901,-70.7829168898245 -50.2777523755234,-70.7895776529686 -50.2776499904292,-70.792145178803 -50.2768614804821,-70.7947136278614 -50.27531992741,-70.7963402369775 -50.2754679368164,-70.7985134113999 -50.2757806078489,-70.8024832308426 -50.2787834207993,-70.8060998504506 -50.2804284927479,-70.806174216211 -50.2804684190156,-70.8095765608717 -50.2825345710325,-70.8117501373508 -50.2828469900684,-70.8242746409824 -50.2830358727236,-70.8280342725991 -50.281772978913,-70.8325915213044 -50.2807710706359,-70.8361180064233 -50.2805932269442,-70.8401835578746 -50.2774136878465,-70.8417796425866 -50.2767650859201,-70.8433756841403 -50.2761164617051,-70.8434558964359 -50.2781929153477,-70.8434558979783 -50.2781929204898,-70.8444848964564 -50.2808479564165,-70.8478567509495 -50.2871469957708,-70.8509199648106 -50.2884590731035,-70.8550000474815 -50.2910321885786,-70.8572426508768 -50.2940314427507,-70.8603859591246 -50.2966226087751,-70.860426463008 -50.2976608149051,-70.8597591963104 -50.3000186493886,-70.8630364659228 -50.3020612391648,-70.8714439604962 -50.3083598256044,-70.8799356398408 -50.3118374527378,-70.8824711128073 -50.3117344634273,-70.8915368944175 -50.3111945202719,-70.8978782117879 -50.3119195091111,-70.9027028174227 -50.3139444624892,-70.9088383638052 -50.3127223148355,-70.9170356532341 -50.3162502310266,-70.9206658740218 -50.3162500201794,-70.925462779104 -50.3148223144713,-70.9294157404883 -50.313038962888,-70.9348102903235 -50.3125740771438,-70.9389593075216 -50.3107233727181,-70.9435275543967 -50.3112711531686,-70.9436941059213 -50.3112750275437,-70.9446189793638 -50.311222454504,-70.9492131923552 -50.3088075619155,-70.9538019509955 -50.3072097930292,-70.9538019542958 -50.3072097924415,-70.9578216656568 -50.3077598886261,-70.9725189304503 -50.3080353074633,-70.98256326262 -50.3077355300545,-70.9856818013053 -50.3066694833026,-70.9916360058661 -50.3075298183878,-71.0015908196713 -50.3084743271042,-71.0035997449793 -50.3084397112815,-71.0068272267799 -50.3080377341456,-71.0116792923807 -50.3076941304314,-71.0154140479212 -50.3065039755405,-71.019551881883 -50.3072805641838,-71.0223167580112 -50.3077692347609,-71.0230371996849 -50.3077566961864,-71.0316676643489 -50.3072598509125,-71.0379038864718 -50.3069770225329,-71.0412870251965 -50.3059456995704,-71.0472922223507 -50.3059467786901,-71.0533963526036 -50.3074839821706,-71.0535839073801 -50.3076538110501,-71.0548197858438 -50.3098938408117,-71.0599882095653 -50.3119557141991,-71.0599882100224 -50.3119557143355,-71.0633277271426 -50.3121210964577,-71.0695542674954 -50.31111198756,-71.0724315352104 -50.3120807846592,-71.075790306276 -50.3124613742212,-71.0772192021893 -50.3118612643405,-71.0804948046616 -50.3084989803519,-71.0840479077253 -50.3081330795436,-71.0900127868685 -50.3083732593043,-71.0904150627592 -50.3083727159629,-71.0912763957071 -50.3080772650578,-71.0928868198268 -50.3058272101488,-71.1000753128965 -50.3053512346777,-71.1067386797177 -50.3052306307366,-71.1084978491029 -50.3045853632387,-71.1136631052983 -50.3018464820436,-71.1209046172502 -50.2995476515186,-71.1243202976459 -50.2978868747644,-71.1301902020074 -50.2966118578002,-71.1348248161739 -50.2943300668545,-71.1430308756975 -50.2939604441248,-71.1515582106368 -50.291942751764,-71.1519772868121 -50.2943845554093,-71.1596784924522 -50.2948750145795,-71.1616953463754 -50.2969490876512,-71.1646576301308 -50.2971017229625,-71.1686448323132 -50.2949060956143,-71.1707223060169 -50.2942477716783,-71.1721922915598 -50.2939829506973,-71.1738875592946 -50.2939017769267,-71.1754487966899 -50.2942683288166,-71.1757768288941 -50.2943658312674,-71.1788419250341 -50.2982746623736,-71.1821624913787 -50.2985372644232,-71.1903735104029 -50.2963176073904,-71.1957688598312 -50.2940324480702,-71.1942573715804 -50.2918368808673,-71.1904384960841 -50.2915113290608,-71.1900986648247 -50.2907379154393,-71.1897777839523 -50.2884583856637,-71.1911574093659 -50.2860321594957,-71.1906512984057 -50.2839400270617,-71.1977658656243 -50.28155282463,-71.2005881544724 -50.2838437961815,-71.2037390893874 -50.2864629343169,-71.2070432686064 -50.2877854232557,-71.2088726972515 -50.2898565148947,-71.214476567613 -50.2911386965006,-71.2174165272191 -50.2900120328848,-71.2200216937255 -50.2902393285862,-71.2234539476255 -50.2919744688481,-71.2239940242094 -50.2919641329761,-71.2299493019125 -50.2913016774082,-71.2322741090656 -50.2898574094324,-71.2358362695216 -50.290545522739,-71.2462697032302 -50.2943555293765,-71.2516683317466 -50.2942015681803,-71.2581330519859 -50.2937298111245,-71.2608432990131 -50.2912996486053,-71.2656220629459 -50.2876666846265,-71.2689278301199 -50.287518512339,-71.2749235618451 -50.2859508043683,-71.2859347315549 -50.2856681110333,-71.2895889845641 -50.2864712289108,-71.291368420054 -50.2878845948277,-71.2894856548341 -50.2898204183882,-71.2900640478156 -50.2944900954484,-71.2923831723498 -50.2977884569632,-71.2962558213228 -50.29931509814,-71.304572172115 -50.3016536620087,-71.3112106713617 -50.3026877269476,-71.3216250737483 -50.304669346871,-71.3263671101083 -50.3035809113259,-71.3278019297561 -50.3034367420668,-71.3316169653744 -50.3040528646073,-71.3326973113989 -50.3040311818385,-71.3384554369866 -50.3023578830283,-71.3454267045207 -50.296638452646,-71.3458440404039 -50.2964940864366,-71.3461871044746 -50.2965393916243,-71.3573338671139 -50.2995103958038,-71.3644673458617 -50.3005386800372,-71.3731951868308 -50.3056931698814,-71.3750149248736 -50.3064186933174,-71.3782789506947 -50.3071218778122,-71.3805078495575 -50.3086024624337,-71.3853783647212 -50.3086757364138,-71.392141528504 -50.3076709345295,-71.4001335878424 -50.3063558243655,-71.4014644145827 -50.3066440757253,-71.40479940935 -50.3077559704447,-71.4107830147576 -50.3076319819621,-71.4175251987477 -50.3112906562954,-71.4202408075799 -50.3136689434059,-71.422593266332 -50.3151768903412,-71.4288433769014 -50.3178663007327,-71.4379783484311 -50.324105390158,-71.4400676714368 -50.3253107064623,-71.4519042943991 -50.328162002886,-71.4525007364202 -50.328344803679,-71.45607268336 -50.3303249748263,-71.4596945653288 -50.3306177704863,-71.4605018123974 -50.3307289446534,-71.4626224010626 -50.3324292369629,-71.4695051696725 -50.3354889318113,-71.4693225909247 -50.3378771401762,-71.4707836095759 -50.3392711707279,-71.4724051672646 -50.3392366862241,-71.4722973709269 -50.3371611174915,-71.4734832712604 -50.3367681833284,-71.4757790988467 -50.3364809546955,-71.4765599162098 -50.3365707661125,-71.4793958430982 -50.3383951376734,-71.4811667761415 -50.3422613458815,-71.4834231170074 -50.3444833486186,-71.4850445832332 -50.345422963541,-71.4907926058968 -50.3477812969745,-71.4934080490359 -50.3487925212313,-71.4937044104661 -50.3488741135347,-71.4963676063945 -50.3493484715772,-71.5009277496398 -50.3484018057813,-71.5046825899955 -50.3482540704603,-71.5056174997293 -50.3476378106863,-71.5091525908633 -50.3444749433113,-71.5099483224034 -50.3442792110801,-71.5170923364698 -50.3452036695209,-71.5170923397425 -50.3452036704809,-71.5174239963485 -50.3453350106373,-71.5198867502887 -50.3468746764662,-71.5247489542087 -50.3467068144349,-71.526877023494 -50.3492955125116,-71.5308455667395 -50.3494070557728,-71.5313953750911 -50.3495682378034,-71.5322523275509 -50.3501655509806,-71.5327067528144 -50.3538685767734,-71.5386027230288 -50.3534831821947,-71.5435266155343 -50.3541064235736,-71.5481937360069 -50.3549545697978,-71.5534720489391 -50.3576203720491,-71.5577812843127 -50.3571289182837,-71.558508396064 -50.3572283520392,-71.561953825073 -50.3582144852605,-71.563402525893 -50.3591188596789,-71.5693303277562 -50.3642878764333,-71.5731552319789 -50.3661400546228,-71.5719791349978 -50.3694214301799,-71.5720251794627 -50.3702726483926,-71.5771307920063 -50.3704345181022,-71.5818753632009 -50.3721803404672,-71.5897603854561 -50.3717971421974,-71.5926922302622 -50.371939572853,-71.5950433392341 -50.3756645572508,-71.5998366029935 -50.373857887199,-71.6030628060254 -50.3734393688375,-71.6048624110616 -50.3755361445933,-71.6055328787418 -50.3756927955042,-71.6082612278804 -50.3736400258064,-71.6084839659738 -50.3735487158786,-71.6084840640748 -50.3735486826939,-71.6121394367905 -50.3723561073593,-71.6265801092016 -50.3731989788425,-71.6299721525642 -50.3748743110789,-71.6341035813044 -50.3795357283302,-71.6351427398829 -50.3799792839626,-71.6386013688988 -50.3795644042351,-71.6438019913407 -50.3797780282661,-71.6475958679813 -50.3783770933002,-71.6510389702516 -50.3787846628902,-71.6564569627104 -50.3790489102028,-71.6606780425093 -50.3811390824227,-71.6662188755737 -50.382397395521,-71.6698971673942 -50.3823129684422,-71.6740319347437 -50.3836031979782,-71.6781903754363 -50.3835074627293,-71.6816318816108 -50.3817816245259,-71.6861149340067 -50.3836709298922,-71.6902794495098 -50.3835746204748,-71.6934466129562 -50.3821159982222,-71.6939928940967 -50.3819252322353,-71.6997572174621 -50.3819696007131,-71.7008012942604 -50.3828688654658,-71.7018454105112 -50.3837681207773,-71.7033993771715 -50.3856944697125,-71.7085158947674 -50.3824823891536,-71.7125136300085 -50.3835100781983,-71.7193317966655 -50.3837063267308,-71.7234623322767 -50.3846694847604,-71.7245578604288 -50.3844251714156,-71.7291856516636 -50.3819750074196,-71.7319261750637 -50.3819106286001,-71.7369075082169 -50.3843908566529,-71.7423466097743 -50.3847821459247,-71.7453600983063 -50.3860468237221,-71.7460571166181 -50.3880803144717,-71.7465900385615 -50.3883613474518,-71.7489281007272 -50.3863646508724,-71.7553038749564 -50.3862594573084,-71.7566280747436 -50.3885595570135,-71.7640020727375 -50.38989398175,-71.7687461304531 -50.3921755046633,-71.7742351417059 -50.3943829203422,-71.7765768506841 -50.3965327032509,-71.7819209096235 -50.3989009022265,-71.7843538742951 -50.3991371782826,-71.7883183387739 -50.3992529590187,-71.7904410156605 -50.4013000439387,-71.7978863984114 -50.4027019557984,-71.7983839742729 -50.4028598832715,-71.8006308586713 -50.4060234267199,-71.8069137057438 -50.4122427880587,-71.8069618677035 -50.4122706816739,-71.816150490695 -50.4170648550625,-71.8172296181053 -50.419009131968,-71.8218304410913 -50.4188975533375,-71.8223947830467 -50.4187927173154,-71.8341895816063 -50.4152721916473,-71.8350596719019 -50.4153202417144,-71.8359267075139 -50.4155225718329,-71.8410291278901 -50.4174248458709,-71.8438112343445 -50.4223735658355,-71.8477574410253 -50.4264040239293,-71.8483506885334 -50.4272553061874,-71.8476608615399 -50.4294784276835,-71.852200716395 -50.4297541240621,-71.8589425312202 -50.4320836698506,-71.8589697870471 -50.4325358837584,-71.8582660686318 -50.435254532388,-71.8592824772276 -50.4377230901337,-71.8604905630339 -50.4397713318747,-71.8602157605321 -50.4407195036111,-71.8556862307037 -50.4448215527459,-71.8553046047683 -50.452712835589,-71.8575937341662 -50.4551943103405,-71.8609923527916 -50.4570752659067,-71.8661710044993 -50.4591746848573,-71.8688181994502 -50.4613251587576,-71.8712805688792 -50.4631545072432,-71.8722213263869 -50.4654362160489,-71.8730326215365 -50.4677618894785,-71.8776571299874 -50.4711896077701,-71.8800086166531 -50.4735866884436,-71.8845633553896 -50.4789022985537,-71.8846116788174 -50.4796955873404,-71.8832777975808 -50.4854603641586,-71.8814671475132 -50.4904549556099,-71.8712341583297 -50.4918016675129,-71.8742024401475 -50.4940967502927,-71.8774417811367 -50.4952922022673,-71.8782017224315 -50.4992486026409,-71.8787649220575 -50.4995809898409,-71.886305970765 -50.5011294622873,-71.8886067631483 -50.50340145781,-71.8920962857255 -50.5074466490806,-71.8945283142084 -50.5093903559772,-71.8973761228098 -50.5108939525938,-71.8992367562314 -50.5114143085809,-71.9033412540275 -50.5107452265556,-71.9065736956475 -50.5103181793518,-71.9074784450027 -50.5105789265813,-71.9083493527404 -50.5126980771545,-71.9169202389996 -50.5147209491946,-71.9270485133582 -50.518371393042,-71.9274594109643 -50.5191679206988,-71.9279346959789 -50.5233707026372,-71.9260896319434 -50.5268326980709,-71.9271717989488 -50.5313194982249,-71.9274652135487 -50.5319591793726,-71.9318971643494 -50.5328998015934,-71.9332880998651 -50.5365983037136,-71.9338500680626 -50.537504929692,-71.938874459614 -50.5406760167095,-71.9378589689209 -50.5436832037844,-71.9376336194959 -50.5469412182626,-71.9381978074669 -50.5472732983498,-71.938479905426 -50.5474393379517,-71.9415400347293 -50.5485741557384,-71.9456083695103 -50.5492749722431,-71.9455653200951 -50.5521087481373,-71.9464495313556 -50.5532119243276,-71.9473337838733 -50.5543150936071,-71.9469204874109 -50.5564035073605,-71.9469150195539 -50.5570157647586,-71.9503946851909 -50.5635250890776,-71.9521248040356 -50.5704293906258,-71.9564057929042 -50.5751845848564,-71.9567669058979 -50.5766398626147,-71.9548621025945 -50.5790596161448,-71.9565357114899 -50.5808719481184,-71.9553276074291 -50.5853710224995,-71.9555451591745 -50.5856224501686,-71.9558383834346 -50.5859613287523,-71.9591043286405 -50.585993778998,-71.9591838625788 -50.5872616098542,-71.9590360214139 -50.5883736031123,-71.9583563702298 -50.5910141557121,-71.9663209178738 -50.5926211409225,-71.9686782149987 -50.5911757364085,-71.9689799773397 -50.5911680390987,-71.9726765699677 -50.594190614705,-71.9745526866306 -50.595181660359,-71.9758695737815 -50.5951479978087,-71.9805543628162 -50.5933954421831,-71.9813459666275 -50.5936225434547,-71.9836198058554 -50.5946057974531,-71.9901304224164 -50.597480035397,-71.9914012398367 -50.5977513453736,-71.9924950369164 -50.5978386714175,-71.9923633806654 -50.5957640946372,-71.996442976378 -50.5957457196077,-71.9967090891531 -50.5956522864238,-71.9987504752925 -50.5932698709916,-72.0000008634095 -50.5926583354399,-72.0017547024209 -50.5922898749785,-72.0083949516342 -50.5911948847879,-72.0087495249829 -50.591185719001,-72.0116051585585 -50.5930828270308,-72.0205859777082 -50.5951829154391,-72.0244959790854 -50.5954687627769,-72.0314680511771 -50.600797787077,-72.0314786743506 -50.6008024384167,-72.0416775062548 -50.6015026374364,-72.0433637350498 -50.6029488453854,-72.0431629894416 -50.60726110194,-72.0432969355368 -50.6093356187565,-72.0438049250202 -50.610880815618,-72.0451414413263 -50.6117243597383,-72.0484663571699 -50.6118728599042,-72.0511923143772 -50.6144788018537,-72.0553570128548 -50.61486399033,-72.0579173145324 -50.616571699824,-72.0579365767309 -50.6165791585865,-72.0617807661857 -50.617843554346,-72.0635419053437 -50.6160082079248,-72.0643933741821 -50.615708731037,-72.0654577016456 -50.6153343760667,-72.0673427301295 -50.615024969378,-72.0694880082457 -50.6151587324689,-72.0737216815707 -50.6168481898241,-72.0874730153286 -50.6217945895582,-72.091023417823 -50.6224148381055,-72.0993315890233 -50.624834400091,-72.1076556501939 -50.6263370687252,-72.1088008492929 -50.6263064903502,-72.1163513883571 -50.6247077959413,-72.1243913029389 -50.6213550492632,-72.1335490570461 -50.6190915441023,-72.1357134343945 -50.6186777062874,-72.1375169283711 -50.6184361716044,-72.1408197193602 -50.6187941116742,-72.1466969838786 -50.6173225209116,-72.1477837515882 -50.6172931358968,-72.1493214005925 -50.6174939771888,-72.155876836687 -50.6189211143765,-72.1583715737716 -50.6190511468932,-72.1525006386122 -50.6118549904704,-72.1528011719437 -50.6109232856876,-72.1533329139575 -50.610735712392,-72.1543178019102 -50.6108129257386,-72.1572402701108 -50.6121883010374,-72.1616357463923 -50.6121755511343,-72.1643033947858 -50.6119964915448,-72.1641646774942 -50.6099306065634,-72.1807120997734 -50.6048349909808,-72.1833021239372 -50.6040268666886,-72.1861271863347 -50.6000990710164,-72.18505434259 -50.5968842557996,-72.1883593723446 -50.5908036120882,-72.190514105619 -50.5891152324835,-72.1962155104411 -50.5892863701281,-72.196989026409 -50.5889095420949,-72.2012105034566 -50.5863970938375,-72.2049171443912 -50.5860476797105,-72.2088124566172 -50.586187717927,-72.2088124616258 -50.5861877177889,-72.2092582930408 -50.5836026038233,-72.2116369702715 -50.5829585893699,-72.2164894421265 -50.5835626131479,-72.2168305743047 -50.5818689576915,-72.2158261127393 -50.5768396338368,-72.2201328163918 -50.5766969435279,-72.2238266638694 -50.5750361181223,-72.2236707854283 -50.5727545760196,-72.2302816195524 -50.5674604380164,-72.2298262160806 -50.5669384893515,-72.2224418150332 -50.5627215911877,-72.2241085998067 -50.5607964063163,-72.2299100117835 -50.5558248691474,-72.2280934982276 -50.5530851160553,-72.2291666985858 -50.548421632039,-72.2284490481992 -50.5472004869382,-72.2275416936816 -50.5461599918912,-72.2219005851016 -50.5436758787927,-72.2161407120088 -50.543421210847,-72.2123513993235 -50.5400650438199,-72.2121745991124 -50.5396851004806,-72.2119160741674 -50.5358824610067,-72.2071170368231 -50.5350951651612,-72.2051164710088 -50.5331712684299,-72.2034048204963 -50.5305756723927,-72.2026576763535 -50.5294553500914,-72.1994965290566 -50.5279870200754,-72.1946036314993 -50.5270375536164,-72.1915249504161 -50.5236290353516,-72.190230825195 -50.5229910241361,-72.1772927994201 -50.5202072054737,-72.1753373909994 -50.5171947083095,-72.1721078229873 -50.5163740938077,-72.1684940634842 -50.5136216092267,-72.1602093524983 -50.5095120622353,-72.1577170421697 -50.50550299971,-72.1576362699575 -50.5042929948636,-72.1579704235177 -50.5036866107348,-72.1650016182987 -50.4976996518177,-72.1663034764216 -50.4954557044958,-72.1667803947993 -50.4948663133297,-72.1752846382051 -50.4920455261934,-72.1774576341211 -50.4899180907654,-72.1787811066628 -50.4876120481013,-72.1787346729709 -50.4869206308338,-72.1780999539205 -50.4855526065353,-72.1769466341886 -50.4845450910139,-72.1703981534874 -50.484031124847,-72.1689532381031 -50.4840705095595,-72.1650490483709 -50.4852158642277,-72.1596073611128 -50.4850175025952,-72.1512739422255 -50.4851748554787,-72.1473208610751 -50.4860553183997,-72.1384470918202 -50.4866953094107,-72.1335289261146 -50.4846841117018,-72.1287342388739 -50.4835569420865,-72.1261562062773 -50.4821062014461,-72.1201380331206 -50.4791073442833,-72.1157565428301 -50.4785811918685,-72.1148528554782 -50.4772200433109,-72.1139492200808 -50.475858887383,-72.11284293611 -50.4755421668158,-72.1085314135564 -50.4760038424726,-72.1069060618688 -50.4760472800578,-72.1044569358773 -50.4732573748607,-72.1025658209425 -50.4726574703017,-72.1017757609743 -50.4724068317366,-72.0955278941969 -50.468038597803,-72.095527892243 -50.468038597855,-72.0930290895731 -50.4683732259087,-72.0867475177764 -50.4709612134194,-72.0832937674657 -50.4718270216357,-72.0799183358867 -50.4740793154136,-72.0728576411401 -50.4734006550515,-72.068877462141 -50.4733772648973,-72.0655053609823 -50.4736826688149,-72.061830390313 -50.4735855397921,-72.0577299644148 -50.4733269455587,-72.0528660377838 -50.4712444865115,-72.0517602489786 -50.4709271771353,-72.0430254849386 -50.4701170740274,-72.039797174862 -50.4705478452724,-72.0392554146288 -50.4705620060348,-72.0374421735303 -50.4704939379558,-72.0320980664531 -50.4701029825753,-72.0278081542932 -50.4715717837362,-72.0257776498543 -50.471952481885,-72.0254680586551 -50.4719605368797,-72.0227851549868 -50.4699291445043,-72.0169953803246 -50.4673849559709,-72.0112461298664 -50.4661282996224,-72.0071726527398 -50.4654550957126,-71.9981191372875 -50.4636641995782,-71.9943619195643 -50.4649045622504,-71.9887031897406 -50.4656032167913,-71.9846439961577 -50.4656058648799,-71.9825078776125 -50.4635442360917,-71.9814104536811 -50.4631168276701,-71.9752809825688 -50.4657515555321,-71.9738508270615 -50.4660190260422,-71.9722256164715 -50.4660605770066,-71.9700369841289 -50.4657701650719,-71.9700369825893 -50.4657701646287,-71.966988528607 -50.4645824629125,-71.965822984496 -50.4623454356977,-71.9624918526546 -50.4592070335911,-71.9591680110294 -50.4568117701074,-71.9590312744157 -50.4546218195388,-71.9584033237681 -50.4532524737707,-71.9551106085644 -50.4526435397432,-71.9507993789449 -50.4530993574071,-71.9484008563872 -50.4531601999543,-71.9446222282278 -50.4500785262742,-71.9440237550025 -50.4435738837702,-71.9441544687063 -50.4421852115301,-71.9452875244617 -50.4395343108581,-71.9459766510143 -50.4365977688265,-71.9494918113234 -50.4331342610041,-71.9573254437996 -50.4284048624939,-71.9574045527604 -50.424251925272,-71.956496454258 -50.423401012127,-71.9505196385693 -50.4210594052098,-71.9482177533461 -50.4191949136191,-71.9478939866862 -50.4188367857411,-71.9495263198919 -50.4166514178803,-71.9542289666786 -50.4115768305415,-71.954962877564 -50.4102269102811,-71.9557096849521 -50.4071433921451,-71.9597172112364 -50.4020197261859,-71.9589485187897 -50.3994199339275,-71.9624333515614 -50.3937137728221,-71.9621623203816 -50.3918558966178,-71.9575068183547 -50.3866928661562,-71.957490673394 -50.3864335117787,-71.9576381253393 -50.3853214917604,-71.9587438721891 -50.3817691540773,-71.9582144863331 -50.380863055176,-71.9542427403841 -50.3784110201211,-71.9457290003194 -50.378532412851,-71.9423164498921 -50.3795332596205,-71.9404119512298 -50.3793875300411,-71.9385886725039 -50.3786009713481,-71.9380051598716 -50.3779230582816,-71.9379196545172 -50.3765398842631,-71.9399328604088 -50.3740646428994,-71.9395865256971 -50.3737592867922,-71.9346049074883 -50.3723618790149,-71.9306160653862 -50.370217734077,-71.9295607563612 -50.3639366043617,-71.9295422893826 -50.3636368776871,-71.9323373723761 -50.3623067455297,-71.9361931036739 -50.3594030841049,-71.9364793347607 -50.357007556116,-71.9385200055491 -50.3541284564755,-71.9447943009307 -50.3505174142747,-71.9487048160159 -50.3495989886594,-71.9530496577155 -50.349834984297,-71.9527921063144 -50.3456855045154,-71.9559484281491 -50.3442199077149,-71.9558983047558 -50.3434130677229,-71.9552362846325 -50.3428082851066,-71.9486961076429 -50.3392841957001,-71.9477227920637 -50.3370672174636,-71.9447889733722 -50.3356899707253,-71.9441454960858 -50.332150457604,-71.9403271724284 -50.3296315729881,-71.9378403383766 -50.3259871566669,-71.93819659051 -50.3187557255061,-71.9381256725877 -50.318129960928,-71.9341526854244 -50.3150437758016,-71.9339712573481 -50.3095850268882,-71.9330608873633 -50.3064119828963,-71.9390407958605 -50.3050333443426,-71.9423012179517 -50.3043913387442,-71.9439569480344 -50.3043493884392,-71.9503269561529 -50.3059194597887,-71.9503269588584 -50.3059194601496,-71.9526280586728 -50.3037829706445,-71.953039381416 -50.3016944927679,-71.9532222514901 -50.3011320224607,-71.956526733216 -50.2996881080519,-71.9582422885072 -50.2977798739626,-71.9644530693536 -50.298286721455,-71.9649498791141 -50.2975813644745,-71.9655626334677 -50.2953759700622,-71.9670825433568 -50.294496565787,-71.9721672149784 -50.2916108101928,-71.9774103191108 -50.2883843356601,-71.978293801118 -50.2861571243518,-71.9842942121747 -50.2855293204019,-71.9863241300002 -50.2849119060186,-71.9890641667851 -50.283985757113,-71.9884133189776 -50.2803396721264,-71.9865913630972 -50.2753637411776,-71.9845487367157 -50.2714345191027,-71.9919480301178 -50.2676390388118,-71.9921105303492 -50.2674564588578,-71.9877077348655 -50.2651422771509,-71.9881538295292 -50.2623526933135,-71.9885200046944 -50.2595725477349,-71.9772441590459 -50.2601228497222,-71.9772082333155 -50.2580360079515,-71.9793071468254 -50.2562304229981,-71.979458079468 -50.2535199577363,-71.9790966379736 -50.2529564206705,-71.9760194566925 -50.2514428648976,-71.9740206132642 -50.2475130723773,-71.9763189933732 -50.2455608321996,-71.9777781668936 -50.2426570556305,-71.9801756553322 -50.2408866566126,-71.9800508712469 -50.2407414291847,-71.9775167781997 -50.2390747319876,-71.9797794819153 -50.2373534227467,-71.9813283648372 -50.2358393854712,-71.978732798395 -50.2344426058051,-71.9789318828989 -50.2318714225225,-71.9748862932678 -50.2270218893487,-71.9757169907465 -50.2230225709349,-71.9774511115353 -50.2129019632544,-71.9778650294488 -50.210575390481,-71.9773340000368 -50.209411890496,-71.9746619937566 -50.2105746853728,-71.9687025323959 -50.2102077246068,-71.9688732992123 -50.2061088229436,-71.9653646465929 -50.2058594597593,-71.9626467254572 -50.2082843786196,-71.9615690854112 -50.2083118758746,-71.9604700340648 -50.2079935667497,-71.9587335358422 -50.2059741635291,-71.9533537351956 -50.206256964509,-71.9440098156983 -50.2065265336981,-71.9429792278323 -50.2066159940437,-71.9390446653287 -50.2082231231955,-71.9375793124293 -50.2082439845768,-71.9334226018285 -50.206948474802,-71.9327270064285 -50.2069236263041,-71.9206854825763 -50.2079001632248,-71.9179022229294 -50.2090713165162,-71.9156835587034 -50.2080880415777,-71.9153333695374 -50.2074039368241,-71.911322143602 -50.1984999958781,-71.9148129035434 -50.1981815024105,-71.916159187699 -50.1969445203409,-71.9161591894267 -50.1969445185686,-71.9164951746843 -50.1943691188264,-71.9182786746413 -50.1926505749218,-71.9244694723136 -50.1929245211329,-71.9254138653812 -50.188703143967,-71.9240716299017 -50.1864039605743,-71.9255870225256 -50.185456628359,-71.9288179588414 -50.18489893059,-71.9346967939663 -50.1850292045814,-71.9380324006444 -50.1853587411899,-71.9428842655026 -50.1853127928678,-71.9428582725697 -50.1848901441256,-71.9393360283548 -50.1835418915472,-71.9389312649904 -50.183169024214,-71.937889238798 -50.179854857258,-71.9404282314683 -50.1770045737029,-71.9406943625436 -50.1736579517073,-71.9381762105369 -50.1718757278379,-71.9353007027667 -50.1706824421012,-71.9326110253631 -50.167117206144,-71.9327174908519 -50.1661382305506,-71.9344575326307 -50.1622442529701,-71.9348686984364 -50.1601558062881,-71.934868695394 -50.1601558027358,-71.9341846178804 -50.1595496884551,-71.9304142514946 -50.1578439705642,-71.929749077707 -50.1557827138523,-71.9297067782452 -50.1550910930794,-71.9307620907741 -50.1547181044009,-71.9350255630793 -50.1539176675663,-71.9350043768505 -50.1535718602531,-71.9320998156454 -50.151913569789,-71.9253056396118 -50.1521747085624,-71.919143048313 -50.1498158228419,-71.9183710873608 -50.1488681870669,-71.9215071362536 -50.144388018197,-71.9214965955105 -50.1442151157287,-71.9209163216309 -50.1435370369047,-71.9176876457682 -50.1436182627726,-71.9171074330302 -50.1429401636356,-71.9183602048432 -50.1406065050513,-71.9180313084935 -50.1398825797127,-71.9123362717601 -50.1351565867994,-71.9074494722423 -50.1332306256372,-71.9077554899964 -50.1321551540943,-71.9110520667736 -50.1279535348515,-71.9117256910979 -50.1259346897815,-71.916200614381 -50.1173743139019,-71.916226274231 -50.1109638799697,-71.9192964877454 -50.1103735361979,-71.9196336135511 -50.1047788272227,-71.919484015201 -50.1023197412941,-71.9142485255981 -50.0959093060917,-71.9142275320749 -50.0955634883642,-71.9183596580443 -50.0944377218392,-71.9174220191808 -50.0920197419187,-71.9160297503197 -50.0897787769841,-71.9159577458532 -50.0885931174784,-71.9191682945417 -50.0875799643152,-71.9193563400356 -50.0845483563871,-71.9231879596566 -50.083562308154,-71.9225663444774 -50.0821925919517,-71.9223864144965 -50.0819573450019,-71.9191946655672 -50.0798530758613,-71.9199679731982 -50.0775227083336,-71.9187744019083 -50.0729367402166,-71.9197050699999 -50.0719574038446,-71.9224024251293 -50.0706518631349,-71.9223673696583 -50.0700755036815,-71.9220053622242 -50.069651793171,-71.9189846155854 -50.0686412323159,-71.9177044320807 -50.063002800766,-71.917493751407 -50.0607083176154,-71.9138055379402 -50.0587911053846,-71.9088360654663 -50.0540843424756,-71.9012504749172 -50.0530574762413,-71.9008854483047 -50.0529511591686,-71.9002565255635 -50.0522727995465,-71.897270656139 -50.0458098240166,-71.8961734263717 -50.0457503609028,-71.8880956453157 -50.0459971161963,-71.8870008122466 -50.0456780314203,-71.887000811899 -50.045678031319,-71.8814884548444 -50.0430605261724,-71.8797021413426 -50.0405538958288,-71.8749858564343 -50.0356194822738,-71.8700858587083 -50.0331748068257,-71.8683056464373 -50.0320044230294,-71.865362020119 -50.0286598606689,-71.8616611093248 -50.0265644481496,-71.8598759251459 -50.023664557905,-71.8593083070735 -50.0231590387491,-71.8587509731774 -50.0228264368361,-71.858565195859 -50.0227155682995,-71.8571462103356 -50.0224279652072,-71.8517726557303 -50.022998268473,-71.8461642993521 -50.0240239609791,-71.8425918963826 -50.0221458388405,-71.8360627480403 -50.0209591570182,-71.832487388134 -50.0193110610397,-71.8298938202203 -50.0166074094005,-71.828538470874 -50.015321075378,-71.8249414239192 -50.0146501089246,-71.8217413977069 -50.0150743692757,-71.8217413931507 -50.0150743693866,-71.8211236114213 -50.0137040301417,-71.8211236112597 -50.013704027384,-71.8234650916555 -50.0100970152777,-71.8235840482391 -50.0098343610917,-71.8235421738299 -50.0072740664704,-71.8229168792738 -50.0050313847229,-71.8222760450118 -50.0023516724178,-71.8188411873685 -49.9963557818711,-71.817433877095 -49.9957704033964,-71.8112654204053 -49.9946267736422,-71.8043907390794 -49.994022055446,-71.7997216091775 -49.9932406838306,-71.793985192098 -49.9894052339346,-71.7924420973446 -49.9874435738259,-71.7911437361946 -49.9877516939195,-71.7841569768858 -49.993821029627,-71.7813974026888 -49.997478254873,-71.7774476617801 -50.0019438052624,-71.774537646928 -50.0021716976018,-71.7671926585246 -50.0011499816424,-71.7595793395621 -49.9967013947072,-71.7527642998236 -49.9937933991921,-71.7507875855544 -49.9938887902355,-71.7453541655688 -49.9950886624966,-71.7411447276933 -49.9973728624667,-71.7404598266108 -50.0000167519994,-71.739523634063 -50.0024337935057,-71.736386491241 -50.0048576212923,-71.7331795375097 -50.0106164611814,-71.73294136661 -50.0130451937738,-71.7319976798976 -50.0145682091429,-71.7292621494659 -50.0168850287713,-71.7277900076288 -50.0205319838265,-71.727512667152 -50.021577492434,-71.7283247052926 -50.0237103486759,-71.728385765409 -50.0263763678607,-71.7290026582452 -50.0292765778618,-71.7212099580773 -50.0305225853413,-71.7197710120922 -50.0304408479088,-71.7153746275041 -50.029389411934,-71.7112939535618 -50.0294848863444,-71.7092435463032 -50.0294021115004,-71.7021077803722 -50.0286602778784,-71.6983249610318 -50.0267196966013,-71.6949024189244 -50.0256222126674,-71.6888735705573 -50.0227338312881,-71.6875024337488 -50.0222461109938,-71.685057610233 -50.0217832399126,-71.681445676818 -50.0221115127107,-71.6757053364096 -50.0216196530244,-71.6713140505481 -50.0228106668925,-71.6672148655184 -50.02366970617,-71.6631499110979 -50.026354976385,-71.6611471949246 -50.0268367332181,-71.6582295610734 -50.0262656628248,-71.6550284020134 -50.0241720386608,-71.6510892481759 -50.0263897255155,-71.6448003439106 -50.0301590612442,-71.6435148638186 -50.0307725918957,-71.6386272041948 -50.0313003501595,-71.6346702293107 -50.0334674521714,-71.6339316090824 -50.0338074731985,-71.6292739555864 -50.0349912651833,-71.6285949289713 -50.0351984342186,-71.622749835827 -50.038447749517,-71.6166272019832 -50.0385860399093,-71.6145916888553 -50.0407099337164,-71.6124620683422 -50.0411042523966,-71.6088132045657 -50.0392386155058,-71.6043909127981 -50.0365909453941,-71.6004212903828 -50.037218862625,-71.596802784861 -50.0354155976493,-71.5938645691952 -50.0352876981665,-71.5912538411817 -50.0367313766244,-71.588031437413 -50.0368033270052,-71.5869387032585 -50.0364813745158,-71.5863644503441 -50.0358015204176,-71.5872067712842 -50.0329839036231,-71.5859508324011 -50.0310267303166,-71.5827982216172 -50.0278794079561,-71.5792914832919 -50.0276794073315,-71.5779586084417 -50.0270875005789,-71.5718219250916 -50.0223666360627,-71.562052124999 -50.0235269267369,-71.5579028432954 -50.0212046003725,-71.5545125749774 -50.0196934742634,-71.541164600059 -50.0164479999186,-71.5350045303164 -50.0144735531713,-71.5287717286569 -50.0142138242324,-71.5264058537439 -50.0152177917333,-71.5263209130207 -50.0153062267176,-71.5252133866259 -50.0181009726413,-71.5252133866838 -50.018100973745,-71.5265604772114 -50.0206871887849,-71.5253632992429 -50.0249057066787,-71.5262948360973 -50.0284672716437,-71.5263129930502 -50.0288131980706,-71.5218334075929 -50.0298012432151,-71.5204602713698 -50.0299795172738,-71.5188492118861 -50.030014516448,-71.5147944258838 -50.029583014131,-71.5139979345428 -50.0297734449319,-71.5113669830792 -50.0308694236653,-71.5078949109809 -50.0330225125621,-71.5073008933107 -50.0330353549202,-71.5039530133151 -50.0317940255034,-71.4990869722859 -50.0325199733181,-71.4971068827124 -50.0302987938948,-71.4902463669642 -50.0348457958159,-71.4863210574766 -50.0357062242943,-71.482222167454 -50.0391159809916,-71.4823471086321 -50.0415375851914,-71.4814861199995 -50.0418382465604,-71.4732492116786 -50.0410694951499,-71.4693307675029 -50.039391139105,-71.4687936197955 -50.0394025730151,-71.4645141604132 -50.0398399028437,-71.4617739322863 -50.0424879931182,-71.4615390377902 -50.0447516165088,-71.4571413756815 -50.0433688491554,-71.4487743476862 -50.0436016978727,-71.4479949439143 -50.0436294547712,-71.4409528087528 -50.044682897885,-71.4340946800301 -50.0441702030715,-71.4296573862082 -50.0448376755714,-71.4190639399698 -50.0394095258821,-71.408957881883 -50.0382573406537,-71.4033878147564 -50.036389258886,-71.4012764582551 -50.0333740108583,-71.3957704764287 -50.0293320901974,-71.3942355242505 -50.0271485833624,-71.3909359466743 -50.0266235393463,-71.3909359204871 -50.0266235295524,-71.3779120160449 -50.0196734997473,-71.3751973409513 -50.0169940430822,-71.3721120055244 -50.0154459178717,-71.3643401540456 -50.0172502863359,-71.3563726601307 -50.0167112705496,-71.3571667130865 -50.013703747445,-71.356657574851 -50.0115504386103,-71.3550217491291 -50.0079277633419,-71.35444158639 -50.0073094587833,-71.3501984209128 -50.0051962306163,-71.3500702567339 -50.0050432423298,-71.3516057103224 -50.0032531120817,-71.3565877661914 -49.9991389634742,-71.356570845568 -49.9987929855078,-71.3533146115466 -50.0000993087064,-71.3484334668072 -50.0003123281895,-71.3457806236661 -50.001551435813,-71.3392277040568 -50.0027528816195,-71.3325847961514 -50.0027411190074,-71.3307763047286 -50.0006464508276,-71.3258204543078 -49.9971354660039,-71.3248874625835 -49.9961186718207,-71.3255538552373 -49.992531183526,-71.3302676415311 -49.9920665179511,-71.3277188854821 -49.9853568930292,-71.3269814407321 -49.9840657815529,-71.3235819187705 -49.9831815659765,-71.3240251934973 -49.9795063392194,-71.3226786649522 -49.9755805931865,-71.3194264301731 -49.9749530506926,-71.319426423998 -49.9749530498272,-71.3194264231908 -49.9749530498434,-71.319426423193 -49.9749530498875,-71.3190238527717 -49.9755152159664,-71.3162407294364 -49.9757093713024,-71.3128995982257 -49.9749047711228,-71.3073835603591 -49.9745947710443,-71.3070279901203 -49.9719816450401,-71.3024786662529 -49.9701752566407,-71.2961403950634 -49.9647408100132,-71.2973689972544 -49.962832266915,-71.2960688021111 -49.9596850561488,-71.294964722806 -49.957772777643,-71.2855387858674 -49.9547416238833,-71.2805400184465 -49.9546138837568,-71.2772529847058 -49.954895704201,-71.2682378551121 -49.9568435792998,-71.2652603997995 -49.9586189679856,-71.2596004473088 -49.9588183256474,-71.2596004450849 -49.9588183260524,-71.2545699587655 -49.9603015298493,-71.2543017855637 -49.9603067440539,-71.2537007961547 -49.9589331501447,-71.2537007954171 -49.9589331343497,-71.2539684583551 -49.9564542206809,-71.255297490355 -49.9520746569924,-71.2553109342785 -49.9518468589286,-71.2537039142545 -49.9475045463148,-71.2541108751288 -49.9447260481007,-71.2558245182124 -49.9387295266266,-71.2568250694515 -49.9364815032469,-71.2600009337148 -49.9339573122015,-71.2610461392416 -49.934019987029,-71.2654358750655 -49.9344620145103,-71.2654228917108 -49.9341852116966,-71.2626907453275 -49.9331303426244,-71.2596100562861 -49.9326135923225,-71.2565294339661 -49.9320967604444,-71.2558741407869 -49.9281403155038,-71.2526267177309 -49.9278771461489,-71.2518986014086 -49.9274755995953,-71.2490456977181 -49.9255337074763,-71.2426563111305 -49.921490774907,-71.2380849287907 -49.9206484907735,-71.2349922246438 -49.9222208570972,-71.2330693604293 -49.9229687823212,-71.2327120674025 -49.9229756645568,-71.226906067783 -49.9217508281386,-71.2232052471568 -49.9219459250442,-71.2225182368399 -49.9217212412671,-71.2205941976588 -49.9199761065465,-71.213160107874 -49.918481788958,-71.2058704517877 -49.9198879114771,-71.2023110449352 -49.9201598948682,-71.1953566268384 -49.9195765031671,-71.1878918616274 -49.9187739952165,-71.1862911238362 -49.9165877559201,-71.1859537389838 -49.9166490286234,-71.1767032622413 -49.9195679563304,-71.172012096732 -49.919737813422,-71.1718390226665 -49.9197149190952,-71.1680627830224 -49.9182237209926,-71.1610265844699 -49.9149916764878,-71.1601343517745 -49.9146689594071,-71.1534240952818 -49.9132203268874,-71.1528805148165 -49.9130572611205,-71.1526813425797 -49.912599191548,-71.1518539104272 -49.9100749016105,-71.1494665943725 -49.9083853259266,-71.1483376133447 -49.9061971874884,-71.143892345872 -49.9038732664576,-71.1436127676327 -49.901598514133,-71.1443830942112 -49.8988939930539,-71.1417946157614 -49.8928298653185,-71.1392441296156 -49.8915251172438,-71.1405048860207 -49.8879128921716,-71.1321599640988 -49.8810017977408,-71.1312951704467 -49.8807722469445,-71.1195039086631 -49.8855145694589,-71.1144360671823 -49.8859501564846,-71.1084312790734 -49.8842970386967,-71.1027163151259 -49.8817706080739,-71.1009475531659 -49.8794361817682,-71.0999335994347 -49.8789728857781,-71.0957766335826 -49.8798184007893,-71.0910265544576 -49.8765391014051,-71.0903501481646 -49.8758991223159,-71.0893437712505 -49.8745392890714,-71.0885902424565 -49.8723539386195,-71.0781747296717 -49.8691301729782,-71.0748697073336 -49.8698050671912,-71.0721926614882 -49.869852964529,-71.0679566700105 -49.8685939450798,-71.0624048254772 -49.8678919412692,-71.0570344238746 -49.864555557983,-71.0514537091723 -49.8622447075277,-71.0498265573756 -49.8554272051628,-71.0434616723459 -49.8535090562901,-71.043461669063 -49.8535090570001,-71.0373702805282 -49.8550819853137,-71.0339481305194 -49.8571596796803,-71.0336254526524 -49.857376131603,-71.0337271686738 -49.8597985598555,-71.0321502720492 -49.8605188541211,-71.0321502717422 -49.8605188542271,-71.0300234911502 -49.8609024451319,-71.0256996988149 -49.8609781048101,-71.0227851733407 -49.8616721713028,-71.0218010857097 -49.8619927825331,-71.0189991797576 -49.8654466935137,-71.0171295227256 -49.8669759295874,-71.0091973755924 -49.868970894486,-71.0056779024745 -49.8692601084334,-71.0011393448465 -49.867178018433,-70.9950929214818 -49.8658299821015,-70.9963505817409 -49.8607080548308,-70.9956799717705 -49.8580739306992,-70.9909677693547 -49.8547999468233,-70.9897166606044 -49.8543058862634,-70.9803275776782 -49.8542783284916,-70.9802283521291 -49.8542733551509,-70.9766858831039 -49.853512940336,-70.9744159639225 -49.8533079338575,-70.9719107821568 -49.854633234436,-70.9711313662687 -49.8530303642372,-70.9706102466056 -49.850753549239,-70.970121985641 -49.8501615731979,-70.9614616865633 -49.8473618928691,-70.9603038475084 -49.8470310604081,-70.9544354656679 -49.8459251155531,-70.9502451747742 -49.8451817455273,-70.9446553575585 -49.8449852930406,-70.9411753615298 -49.8411948888299,-70.9332847228582 -49.8378206375617,-70.9301104171683 -49.8373523686063,-70.9238879203204 -49.8373041339171,-70.9188659462038 -49.8368908894419,-70.9166403772605 -49.8385911973728,-70.9163478916668 -49.8385025848777,-70.9144849460892 -49.8367413461868,-70.9101507750999 -49.8369667900419,-70.8989407272037 -49.8378436632013,-70.8978705041645 -49.8378611966098,-70.8963383095284 -49.8372799740119,-70.8913005802489 -49.834159176788,-70.8913415818877 -49.8312890601656,-70.8902063162015 -49.8301605200398,-70.8852195927726 -49.8292367394612,-70.8836078014949 -49.8290897956227,-70.8812668601541 -49.829424281079,-70.8765895588889 -49.8308208440187,-70.8693470820314 -49.8301589656015,-70.868613765032 -49.8289862533114,-70.8696683354619 -49.8266525321098,-70.8695637989415 -49.8256383037246,-70.8602376124646 -49.8236084685623,-70.856942260761 -49.8235206433319,-70.8524430451286 -49.8213984429181,-70.8522522229277 -49.8211106256889,-70.8512087423049 -49.8190147951847,-70.8510964781198 -49.8188780676684,-70.8478869614139 -49.8189292993474,-70.8473256785625 -49.8182456251809,-70.8477304328527 -49.814931389522,-70.8418258545196 -49.8116388217244,-70.8402478861536 -49.8093457311914,-70.8308862925681 -49.8081172108403,-70.8317791182426 -49.8050840895492,-70.8315462380558 -49.8022844986698,-70.8309564433727 -49.8014669088486,-70.8250682096118 -49.7999923995723,-70.8241433458192 -49.7995657710272,-70.8253120920414 -49.7972160864079,-70.8255259981363 -49.7958148810684,-70.8228461116222 -49.7936988800706,-70.8188927839226 -49.793928758136,-70.8142597329618 -49.7927947277349,-70.8134374830282 -49.7926853736988,-70.8089004017277 -49.7925322206654,-70.8053938701392 -49.7903208647841,-70.7998094230087 -49.7874489226639,-70.7935448239544 -49.7873307252311,-70.7932784768549 -49.7873159891951,-70.78809785583 -49.7857605979493,-70.7802982468899 -49.7817032767494,-70.7719180236541 -49.7791507106074,-70.767866532402 -49.7766483714227,-70.7645798295641 -49.7764540733294,-70.7595822983923 -49.7749372922137,-70.7567688082608 -49.7735483851957,-70.7457097308128 -49.7710733714172,-70.7415078122571 -49.7689768234315,-70.7388888057097 -49.7650727359877,-70.7356712645307 -49.7647265710149,-70.7351919219302 -49.7643008230459,-70.7334250943212 -49.7618784566782,-70.7275317594828 -49.7608746384533,-70.7273864542034 -49.7618003139213,-70.7276793958541 -49.7650281694856,-70.7234904166249 -49.7675147500476,-70.718985092565 -49.7687709136116,-70.7154867541352 -49.7679798680705,-70.7144179530205 -49.767995691691,-70.7047023290604 -49.7694726424481,-70.6942977908101 -49.7702102649912,-70.6872329713242 -49.7709503171029,-70.6801300061945 -49.7723808282121,-70.6726837158804 -49.7738113402206,-70.6636448281095 -49.7749548822385,-70.6599527441268 -49.7747970834973,-70.6551596042313 -49.7753753383835,-70.6518707282511 -49.7753486629098,-70.6434478767177 -49.775279997873,-70.6338577276516 -49.7740592949998,-70.6268768319998 -49.7734184255192,-70.6153411867459 -49.7724113467056,-70.6101379396137 -49.7713394159805,-70.6049270626334 -49.7701492298023,-70.5995178230885 -49.7689514155746,-70.5883865355097 -49.7648506158624,-70.5850296019341 -49.7623100283843,-70.5779113771078 -49.7577781674277,-70.5747375490981 -49.7550010672446,-70.5706863416009 -49.7522201530368,-70.5651931773227 -49.7471389762819,-70.5602035524514 -49.7425117494168,-70.5548400883988 -49.7381095886857,-70.5496292123178 -49.734180449767,-70.5458297736246 -49.7302513117477,-70.5390472414364 -49.7261810296298,-70.5335922255002 -49.723388671549,-70.5250167850959 -49.7201118459839,-70.5187530529105 -49.7192497243942,-70.514030457439 -49.7189903257418,-70.5090332036188 -49.7184715266385,-70.5031890879054 -49.7178611747523,-70.4948425303578 -49.7190704337524,-70.4863281251422 -49.7200088502271,-70.4797973626575 -49.7189788809694,-70.4706497196082 -49.7181701656194,-70.4583435055476 -49.7177085876799,-70.4498672495731 -49.7165718077414,-70.4419326795488 -49.714740752982,-70.4369888310689 -49.7139396665809,-70.4311828618987 -49.7131309503316,-70.4237823488755 -49.7123413087029,-70.4130325321248 -49.7111892690679,-70.4044036872795 -49.7101593016088,-70.3991088873644 -49.709011076898,-70.3938217163982 -49.7080993648921,-70.3869400024782 -49.7067298889715,-70.3825225838492 -49.70558166516,-70.3692932130104 -49.7028388974953,-70.3624191289387 -49.7015800471795,-70.3514862066221 -49.6997489924201,-70.343383789829 -49.6981506345421,-70.3380813600656 -49.6969985958065,-70.3331069957901 -49.6940307611086,-70.3275527963233 -49.6875190723451,-70.3210830699266 -49.6802101130042,-70.31574249362 -49.6764488217535,-70.3102798469362 -49.6754188533951,-70.3050231935643 -49.6757583609573,-70.2997589112436 -49.6764411928044,-70.2913665782038 -49.6783790582445,-70.2833328246488 -49.6804313660123,-70.2767028813316 -49.6828193664181,-70.2644500726114 -49.6857795712675,-70.2590026856241 -49.6857795712675,-70.2519607547836 -49.6849784848664,-70.2454528818436 -49.6837196345506,-70.2396087652309 -49.681549072229,-70.2296295163876 -49.6836013790974,-70.2233734140503 -49.6871414182388,-70.2174530034519 -49.6902198785414,-70.2102584846398 -49.6912384030267,-70.2022018433388 -49.6926116938713,-70.1948394777581 -49.6935195918523,-70.1871032711974 -49.6935195918523,-70.1807632450261 -49.6921386711592,-70.1749267573623 -49.6898612972575,-70.16789245637 -49.6897392268802,-70.1612472533563 -49.6915588377664,-70.1549835202715 -49.6948699949505,-70.153327942129 -49.7020606988384,-70.1560134895291 -49.7051506039135,-70.1583404547464 -49.708110808763,-70.1610717776386 -49.7142791741408,-70.162712096984 -49.7179298397866,-70.1638336190245 -49.7223892207822,-70.1635437018786 -49.7259292599237,-70.1600723277739 -49.7288894647733,-70.1499633796044 -49.7345886232625,-70.1410369886642 -49.7380104060514,-70.1295166022075 -49.7430305476176,-70.1242675777845 -49.7448616023768,-70.1192092905743 -49.7476005551173,-70.1102523802412 -49.74850082325,-70.1033706672205 -49.7471313473293,-70.0964736945033 -49.7438201901451,-70.093261719051 -49.7409591670273,-70.0907516482679 -49.737758635448,-70.0859680176078 -49.7350196836068,-70.0789031990213 -49.7327384947809,-70.069000245063 -49.7286186213473,-70.0622634892663 -49.7248497002484,-70.0541381838278 -49.7216491695683,-70.0439071652811 -49.7194786072465,-70.0349426277976 -49.7189102168275,-70.0268707285987 -49.7203788753791,-70.0189895630154 -49.7220993045335,-70.0146179198785 -49.7241516114019,-70.010276794336 -49.7287101741293,-70.0071563725659 -49.732589720833,-70.0000076301454 -49.7363510129827,-69.9917373665835 -49.7369194025021,-69.9827880860986 -49.7375984185258,-69.9732971196635 -49.7383995049266,-69.9664382934896 -49.7377090450296,-69.9577865599988 -49.7353095998512,-69.9479217534831 -49.7331390375294,-69.9433364871861 -49.7324485776325,-69.9377136226825 -49.7323303221792,-69.9319229132088 -49.732440947784,-69.9234771730299 -49.7334709161422,-69.9148864756271 -49.735061645071,-69.9089508053321 -49.7390594472277,-69.9070510864352 -49.7422485349339,-69.9100875861699 -49.7462501520149,-69.9178390497292 -49.7479591363972,-69.9234771730299 -49.7487602227983,-69.9287567150472 -49.7494506835946,-69.9344024663976 -49.750591277558,-69.9423522943199 -49.753448486651,-69.9499664314027 -49.7579116816716,-69.9551391600413 -49.7637290956142,-69.9581832896242 -49.7682991022149,-69.9603424071735 -49.7721786489186,-69.9617996227515 -49.7760581965217,-69.9616622926778 -49.7795982356632,-69.959777832578 -49.7835884097704,-69.9561233529075 -49.7865600575936,-69.9511871342759 -49.7865600584928,-69.9441375735872 -49.7857589711923,-69.9377822877194 -49.7843894961709,-69.9305572522123 -49.7831306458551,-69.9251403819199 -49.7865486137199,-69.9256973266672 -49.7897415154509,-69.9298172009999 -49.7949981688229,-69.9349365242981 -49.7970504756914,-69.9395370493923 -49.7995681763229,-69.9409866333234 -49.8025398250456,-69.9410400386638 -49.80698013232,-69.9389801019471 -49.8115501398197,-69.9347991951237 -49.815200804566,-69.9295577996496 -49.8189697256648,-69.9225387583539 -49.821479797347,-69.9160537722606 -49.8237609861727,-69.909393311349 -49.8269500729795,-69.905403138141 -49.8316307060841,-69.9013671885416 -49.8337898245326,-69.8941268924388 -49.8329887390307,-69.8835525514057 -49.8311614982959,-69.8780670169758 -49.8301315299374,-69.8731384272931 -49.8293304435362,-69.866630554353 -49.830699920356,-69.8610229495459 -49.8325195303429,-69.8571624756641 -49.8350296011259,-69.8538513184799 -49.8383407592093,-69.8523025519175 -49.8419914239556,-69.8504028321213 -49.8458709706593,-69.8471298223797 -49.8530616754464,-69.846473694102 -49.8577384945263,-69.8470535283939 -49.8623085020262,-69.8474426272717 -49.8670997616352,-69.8432769774468 -49.8732604980639,-69.8404922492142 -49.8772583002207,-69.8368301387961 -49.8814811703099,-69.8308563228572 -49.8841018666978,-69.8253936770726 -49.8831901546917,-69.8195495604599 -49.8812408435798,-69.8108901980202 -49.8785018917384,-69.8057785036709 -49.8789482108805,-69.7996292120144 -49.8814582816635,-69.7954330445952 -49.8844299312853,-69.7919311528962 -49.8878517140742,-69.7861633311686 -49.8921890255918,-69.7796630862781 -49.895030974988,-69.7727890022063 -49.8965187063615,-69.7646865854132 -49.8987998951871,-69.7578125004421 -49.8987884522131,-69.7514572145742 -49.898220061794,-69.7468719482772 -49.8973007190404,-69.7389221194556 -49.8953590386759,-69.7341232308977 -49.8912506100147,-69.7332229618655 -49.8879394528305,-69.7331695565251 -49.8814315789912,-69.7322463997468 -49.8769798269444,-69.730278015813 -49.8731002802407,-69.7279510505957 -49.8683090206316,-69.7266693116346 -49.861679076415,-69.7246780408541 -49.8549499504666,-69.7194976805686 -49.845809936366,-69.7150421144971 -49.8391914360223,-69.7114791867101 -49.8345108029175,-69.7077484130538 -49.83005905177,-69.702590942313 -49.8232002255959,-69.6967315678025 -49.8166885368323,-69.6905288699062 -49.8117904665423,-69.6829223635709 -49.8064193717418,-69.6694870003194 -49.8000106805332,-69.6615600583445 -49.7978515620843,-69.6502838144408 -49.7960090625521,-69.6427078248005 -49.7952117910749,-69.6344223033408 -49.7939491267341,-69.6240386959231 -49.7930297848795,-69.6154098510777 -49.7929191592742,-69.6092529295729 -49.7928009029215,-69.6032562267873 -49.7919998165202,-69.5962066651992 -49.7909584042885,-69.5875701905055 -49.7891311644528,-69.5773391719587 -49.7845611569526,-69.5642929075849 -49.7801094049052,-69.5546035767868 -49.7771301263339,-69.5449066161405 -49.7739410395265,-69.5360870367803 -49.7698211669919,-69.5290298462433 -49.7657089234064,-69.5212631220882 -49.7598800655904,-69.5161514286382 -49.7564506529529,-69.5096282960017 -49.7530288683648,-69.5015335090567 -49.7500610345659,-69.4939498904675 -49.7474288934051,-69.4819717418946 -49.7437705988098,-69.4719390877108 -49.7407989500866,-69.4596176148529 -49.737018585114,-69.448883056 -49.7331390384096,-69.4405975354396 -49.7295989983683,-69.4316329961573 -49.7263908378396,-69.4228210448467 -49.7228507995968,-69.4156036382885 -49.7192001339507,-69.409973144836 -49.7157707204137,-69.4027633663274 -49.713249205757,-69.3953781130005 -49.7129096981943,-69.3864135746176 -49.7125587458591,-69.3781509400046 -49.7124404904054,-69.3705902100607 -49.7121009819433,-69.3621368409329 -49.7119789124648,-69.3547592165549 -49.7119789115649,-69.3466796884071 -49.7132301320318,-69.339118957564 -49.7153892513791,-69.3283996584075 -49.7182388297236,-69.3203125004113 -49.7191505426282,-69.3132781985197 -49.7186889646882,-69.3072967527325 -49.7169799794063,-69.2962265012414 -49.712631224914,-69.2911224367404 -49.7109184256073,-69.2837371825142 -49.710460661692,-69.2745971675143 -49.711711883058,-69.2686233524747 -49.7137603759012,-69.2615890505831 -49.717300415042,-69.2549133308743 -49.7199211114294,-69.2487487795212 -49.7214012138537,-69.2424163822987 -49.7207107539563,-69.2357406625899 -49.7192306515309,-69.2266006466907 -49.7162590028075,-69.222213745656 -49.7179603573409,-69.2169265746898 -49.7209281920382,-69.2118225101887 -49.7238883968874,-69.2067184447883 -49.7262916560899,-69.1996917727449 -49.7254905696882,-69.1944122325262 -49.7237701414325,-69.188262939071 -49.7210311886914,-69.1824569699007 -49.7176094050025,-69.1761474613237 -49.7144088743219,-69.169113159432 -49.7137107845762,-69.1615524285888 -49.7148513794379,-69.1562728892695 -49.7165603629201,-69.1497726452783 -49.7189598080977,-69.1453628546988 -49.7218093864426,-69.1386566164964 -49.7274017333511,-69.132316590325 -49.7320709216828,-69.1251068118164 -49.7345809933645,-69.1184234613601 -49.7376594536664,-69.1131210333953 -49.741771697251,-69.1095962530509 -49.7453002925191,-69.1078262334801 -49.7490692136177,-69.1071090700138 -49.7534103382608,-69.1079635626546 -49.7628784178491,-69.1084671029607 -49.7683601373549,-69.1089706423676 -49.7753295891337,-69.1114196779622 -49.7819519044016,-69.1149215705605 -49.7876510619921,-69.1173706052557 -49.7928009028848,-69.1189422613628 -49.7978210444512,-69.1197967531042 -49.8025016784554,-69.1201477063382 -49.806270598655,-69.1190795905372 -49.8093490589575,-69.1158981326792 -49.8135681150217,-69.1113128672815 -49.818470000235,-69.1063613898527 -49.8216705309144,-69.098266601109 -49.8201789855149,-69.0947570795617 -49.8160705559542,-69.0935363775879 -49.8117294304115,-69.093551636385 -49.8079605093127,-69.0930328372817 -49.8048782349851,-69.0907592774048 -49.8011093129867,-69.0833663942297 -49.8005409234663,-69.0784225466491 -49.8035087581635,-69.0768127448981 -49.8110389705127,-69.07820129454 -49.8156089780128,-69.0801162731334 -49.820289612017,-69.08239746106 -49.8242797843259,-69.0829162610626 -49.8279304499716,-69.0827331545974 -49.8311309815509,-69.0811233519471 -49.8354682912698,-69.0788192744759 -49.838779449353,-69.0752868651826 -49.8424301140989,-69.0696334848833 -49.8457412712824,-69.0648727428685 -49.8469886777244,-69.0580062877456 -49.8448181145027,-69.0543212895814 -49.8411598199076,-69.0525665288077 -49.8371696466995,-69.0510101314978 -49.8315696708411,-69.04927063132 -49.8268890377361,-69.0468215948261 -49.8219795217744,-69.0426025396608 -49.8201484670145,-69.0369720462081 -49.8193588253851,-69.0315094004236 -49.8199195850557,-69.0233917239339 -49.8223190302329,-69.0182724006357 -49.8252792350818,-69.0129699717716 -49.8283615112072,-69.0060882569522 -49.831439971509,-69.0004272459053 -49.8356590266734,-68.998466492719 -49.8386192324221,-68.9938583377766 -49.8451309202855,-68.9917221079734 -49.8487815850316,-68.9890594483194 -49.8524284357529,-68.9870986942338 -49.8566513058419,-68.9844284056308 -49.8609886164599,-68.9828262328288 -49.8652191163973,-68.9806900021262 -49.8687515256903,-68.97872924894 -49.8723983755122,-68.9758834846194 -49.8771896360201,-68.9716262820116 -49.881530761562,-68.9686126718216 -49.884269714302,-68.9617233280532 -49.8872299191506,-68.9553527833882 -49.8905410763338,-68.9471969612547 -49.8954391475216,-68.9394226081506 -49.8990898122668,-68.9332427980004 -49.9010314935295,-68.9244003290954 -49.9033088674298,-68.9160919198896 -49.9053611751962,-68.9083175667856 -49.9070701595771,-68.9001998902959 -49.9079704277087,-68.8922576913225 -49.908428191622,-68.8871383671249 -49.9089889521918,-68.8790206906352 -49.9091110225677,-68.8728408813844 -49.9092102042985,-68.8650665291797 -49.9097900385891,-68.855361938685 -49.9106903076196,-68.847412108964 -49.9120597826394,-68.8391113287071 -49.9135398859621,-68.8313293466542 -49.9154701224519,-68.8256683356073 -49.9171905516053,-68.8203735356922 -49.9187812805334,-68.815391540669 -49.9221992483974,-68.8076095577168 -49.9240303031553,-68.7991409297919 -49.9240188592806,-68.7890930177102 -49.9234390249868,-68.7802734374507 -49.9227600089613,-68.7705688478555 -49.9220695490625,-68.756462097529 -49.9203491199052,-68.7488937386362 -49.9194297780495,-68.7390289312212 -49.9170303337685,-68.7316284181978 -49.9155387874691,-68.7217712397317 -49.9135894772545,-68.7127838145021 -49.9117584224932,-68.7074966435359 -49.9110794064683,-68.7016906743657 -49.9103889456709,-68.690933228666 -49.909240721857,-68.6858215343168 -49.9086685174121,-68.6808929446341 -49.9083213800006,-68.6741867064316 -49.9076309201022,-68.6671371466422 -49.9068298328002,-68.6622085578588 -49.9063682548596,-68.6548080457349 -49.9055709824817,-68.6482772823508 -49.9048805234826,-68.6389465337355 -49.9035110466604,-68.6313705449946 -49.9027099602575,-68.6241531375371 -49.9012184139579,-68.6181793215983 -49.8997306825828,-68.6107635497778 -49.9002990712011,-68.6141967782386 -49.9071502675276,-68.6178817755034 -49.9094314572537,-68.6215667727683 -49.911369323594,-68.6277313241213 -49.9125213614319,-68.6330184941882 -49.9129791253479,-68.6405868530809 -49.9145812981517,-68.6448135371951 -49.91617965693,-68.6518402101378 -49.9183502192533,-68.6560516354549 -49.9200706484088,-68.6611480719063 -49.9224700917896,-68.6626434331283 -49.9273910516243,-68.6592788697044 -49.9312515255053,-68.6517028818627 -49.9312515246042,-68.6432266231903 -49.9306793201585,-68.6344070438301 -49.9300994867637,-68.626106262674 -49.9295310972421,-68.6183700561132 -49.9281501765472,-68.6129074094294 -49.9274597157497,-68.6069030758962 -49.9274597166475,-68.6003570555137 -49.9281387326696,-68.5908279425354 -49.9284782402294,-68.5860672005208 -49.9284782411274,-68.5786514295997 -49.9282493582688,-68.5746762633787 -49.9281662546155,-68.5737915004573 -49.9288940426722,-68.5731811494704 -49.932678222568,-68.5693969695744 -49.934997557936,-68.5714111298997 -49.9368286126959,-68.5744018514442 -49.9368286126967,-68.5819091760476 -49.9362792969004,-68.5880126913126 -49.9367065423231,-68.5985717744478 -49.937805175721,-68.6044921850464 -49.9390869137843,-68.6107788058773 -49.941284179677,-68.6151733358609 -49.945190429052,-68.6237182595702 -49.9500122071568,-68.6311035128971 -49.9539184565325,-68.6400756811281 -49.9595947263787,-68.6470868623492 -49.9621528596316,-68.6477127077557 -49.9620704637459,-68.6535263067741 -49.9605789183488,-68.6570587160674 -49.9604606619972,-68.6635818487039 -49.9613494871579,-68.6734466552196 -49.9635009766598,-68.6789169317517 -49.964401244794,-68.6819229129927 -49.9646186819796,-68.6886795319245 -49.9644237594512,-68.6921463016912 -49.964141844346,-68.6965637212196 -49.9639091483649,-68.6979599007097 -49.9642410269785,-68.7013092044371 -49.9652709953376,-68.7058868417852 -49.9658203120362,-68.7083587642265 -49.9658203120367,-68.710590686392 -49.9656406472775,-68.7111816372038 -49.9655151360943,-68.7208862258996 -49.9633789053939,-68.7354125935975 -49.9633789062963,-68.7489013621895 -49.9647216795495,-68.7588652407197 -49.9659834805429,-68.7639043291531 -49.9655383059892,-68.7672460894171 -49.9663562666198,-68.7786254846601 -49.9660034176173,-68.7927856403269 -49.9653930657338,-68.804870140027 -49.9679421401164,-68.8113150684174 -49.9654180317664,-68.8117218022015 -49.9653701779913,-68.815071105929 -49.965591430101,-68.8232912504486 -49.9679067003655,-68.8265991159388 -49.9672241213989,-68.8361816360561 -49.9655761713078,-68.8408203085929 -49.965026854611,-68.8450927681993 -49.9645996082914,-68.8532104437896 -49.963989257306,-68.8598022405637 -49.9639892582064,-68.8665161086144 -49.9644775388172,-68.8745117129282 -49.9658203129683,-68.8828124949838 -49.9674072269746,-68.8903198186879 -49.9697875975335,-68.8961181580099 -49.9714965819166,-68.9050903271404 -49.9785156250124,-68.9077758727419 -49.9859008783396,-68.9088134718479 -49.9898071295123,-68.9119872989583 -49.9921874991712,-68.9125009799634 -49.9923664228528,-68.9195298375938 -49.9934201909133,-68.9234835091272 -49.993527952141,-68.9265594475443 -49.9906692502054,-68.9302149316206 -49.9912458888612,-68.9387435912278 -49.9913291925098,-68.9413060563314 -49.9916128291587,-68.9452667238644 -49.9930191031717,-68.9466629024552 -49.9940910329976,-68.9450073252121 -49.9949607844352,-68.9406814575673 -49.9939498888981,-68.9390869146135 -49.9937210078399,-68.9355697641173 -49.9932708737729,-68.9337997436473 -49.9933891292258,-68.9327468875428 -49.9936218252078,-68.9304504408192 -49.9951095574804,-68.9253474182525 -49.9956973806921,-68.922010790953 -49.9950143613891,-68.9209356370601 -49.9950436065267,-68.9328002874873 -49.9999999997209,-68.916320795552 -49.9998779302404,-68.9088745070365 -49.9967041013301,-68.9005873505916 -49.9923576413114,-68.8965258203542 -49.9913058226694,-68.8962670144163 -49.9912176801258,-68.8935699460795 -49.9888000488975,-68.8914489750735 -49.9858398431483,-68.8902130134031 -49.9849281302429,-68.8866882330587 -49.9849395741154,-68.8782399510362 -49.97897327164,-68.8741531370407 -49.976520537504,-68.8716888435483 -49.9753913874134,-68.8688735959227 -49.9756202693702,-68.8651580819628 -49.9759712208048,-68.8634033202899 -49.9759712208045,-68.8593831904593 -49.9757013672861,-68.8529891970765 -49.9745216359722,-68.8492813120656 -49.9741897582576,-68.843090077969 -49.9749171919655,-68.8403722137988 -49.9749873915562,-68.8324021263395 -49.9744633383162,-68.8295898392821 -49.9757690424107,-68.8231811471745 -49.9780883786779,-68.8156127882818 -49.9791870111724,-68.8094913396358 -49.9787369040845,-68.8083186043762 -49.9808850741996,-68.8071212771074 -49.9819183349623,-68.8058929452853 -49.9826087948589,-68.8025436406586 -49.9830589289247,-68.8006808602149 -49.9829893489667,-68.7935333258842 -49.9809188832963,-68.7894668577912 -49.9801292416669,-68.7832514899314 -49.9793598193535,-68.7811889652803 -49.9794616695146,-68.7746402205644 -49.9803450247448,-68.7707972975181 -49.9801145596382,-68.7642517094304 -49.9783592220912,-68.7615694850252 -49.9777872199944,-68.7543945264677 -49.9783935546076,-68.7423095663148 -49.97998046861,-68.7330932582285 -49.9833984373723,-68.7202758740135 -49.9849243152865,-68.7106933556949 -49.9859008783023,-68.6920165987679 -49.9898071285714,-68.6834106407693 -49.9920043944606,-68.6729125946213 -49.9932861325199,-68.6632080041268 -49.9924926750656,-68.6597290001739 -49.992126463933,-68.656005854567 -49.9913940425679,-68.6503295865218 -49.9902954091714,-68.6471769934222 -49.9897324509308,-68.6322073155956 -49.984778383177,-68.623433188563 -49.9819106292561,-68.6181673857223 -49.9799842374351,-68.6137695310194 -49.9785690302931,-68.6127166758143 -49.9780082697222,-68.6106033328578 -49.9764099118437,-68.6077955183161 -49.9755065408722,-68.6009063722116 -49.9752883907,-68.5946965269555 -49.9730764655854,-68.5905468040761 -49.9684752972899,-68.5896530151547 -49.9678993215468,-68.5877227786635 -49.9675598139841,-68.5836563123691 -49.9674606313518,-68.5820693974649 -49.9674606313514,-68.578361512454 -49.9674682602994,-68.5748280814179 -49.9677607118908,-68.5716425097415 -49.9698585197633,-68.5756073000171 -49.9751205439246,-68.5792236331444 -49.9777412412129,-68.5828170785256 -49.9812889093042,-68.5884399412306 -49.9850997918719,-68.5987167361688 -49.9886398310161,-68.6170425425597 -49.9958610534023,-68.6228866582731 -49.9986190789662,-68.6260604853836 -50.0008888239197,-68.6299362189619 -50.0033798209826,-68.6364517208508 -50.0057487485681,-68.642799378669 -50.0081214901784,-68.6493072516091 -50.0102615349072,-68.6553115851423 -50.0128593444499,-68.6632385262178 -50.0153388976406,-68.6702880860072 -50.0181694022664,-68.6784133914458 -50.0224685663434,-68.6854629521346 -50.0267791742932,-68.6928634642586 -50.0315399163095,-68.6990432744088 -50.0355110166969,-68.7046813977096 -50.0397109981421,-68.7117385873473 -50.044139861545,-68.7177429199812 -50.0468482957931,-68.7221527105606 -50.0483207701693,-68.7290267946324 -50.0517196652138,-68.7360763553212 -50.0553398123673,-68.7443771364774 -50.0597496029484,-68.7535629278687 -50.0653114313659,-68.7606277464553 -50.0700798032302,-68.7655792238841 -50.0746307370098,-68.7701721191301 -50.0795211792508,-68.7783126833659 -50.0871391294607,-68.7858963019551 -50.0948715201994,-68.791389465334 -50.1003189080871,-68.7970504754816 -50.1052093503284,-68.8011169435747 -50.1102218629465,-68.8039627078953 -50.1160392750909,-68.8085632320902 -50.1212692257934,-68.8124618534146 -50.1262702936391,-68.8154830934529 -50.1331214890661,-68.818489074694 -50.1373291012581,-68.8255691529771 -50.1438102715292,-68.8303527836372 -50.1490402222318,-68.8351364142973 -50.1543884265887,-68.8418731691947 -50.1609802242633,-68.8477172849082 -50.1667785644855,-68.8504028323083 -50.172599791554,-68.8504028332077 -50.1768188476186,-68.8502502443368 -50.1850509637378,-68.8490371704126 -50.1930503838747,-68.8478164675395 -50.2001304621575,-68.8466033945146 -50.2061882010308,-68.8437881477883 -50.2132797240856,-68.8398971563123 -50.2187805164127,-68.8358535759653 -50.224170684034,-68.835159302943 -50.2301101674543,-68.836769104694 -50.2362709038835,-68.8417434698689 -50.2424201964402,-68.8490066528185 -50.2466087340124,-68.8562774665157 -50.2489814756225,-68.8656463625735 -50.250308989178,-68.8729171762707 -50.2500495905269,-68.8851165769527 -50.248168944454,-68.8930816654708 -50.2458496090863,-68.9035186773295 -50.2431716915361,-68.907752991292 -50.2415618888866,-68.9155426031931 -50.2416381828736,-68.9256362916663 -50.2427711487889,-68.9332427980016 -50.2411193837731,-68.9389266976938 -50.2397613517264,-68.9439773568545 -50.2393112176608,-68.9500885019678 -50.2383995047565,-68.960113525404 -50.2344818106117,-68.96470642065 -50.2326202391581,-68.9721298223188 -50.2314605705753,-68.9786834716503 -50.2316589349393,-68.9869995116037 -50.2324104309252,-68.9974594121079 -50.2359085077015,-69.0042037959542 -50.2394218441737,-69.007926941561 -50.2415809635221,-69.0171508794955 -50.2446212763835,-69.0244216922934 -50.2462997431723,-69.0338134769967 -50.2486610409093,-69.044799805553 -50.251010893874,-69.0543670659739 -50.2531394947295,-69.0605773928191 -50.253910063537,-69.0667724617665 -50.2537689203385,-69.0759735101563 -50.2530403138996,-69.0894165050548 -50.2524108882938,-69.0940170292497 -50.2517089845244,-69.102340698152 -50.2522392275018,-69.1078262334813 -50.2533607477444,-69.112098693987 -50.2559700011592,-69.1172485357789 -50.2579994193828,-69.1223983775707 -50.2593498224821,-69.1284179690018 -50.2596702563237,-69.1331863408648 -50.2596397387299,-69.1415328984125 -50.260520934941,-69.1539230345086 -50.2604598997538,-69.1631164557481 -50.2603111267073,-69.1730270395547 -50.2602691643416,-69.1827697756932 -50.2603416443036,-69.1877365119191 -50.2610015857073,-69.1994323740936 -50.2625503540694,-69.2063369748605 -50.2634391783299,-69.2178573613173 -50.2646408074829,-69.2299118047752 -50.2653884885447,-69.2366409307238 -50.2653617849758,-69.2479476931211 -50.2629089353575,-69.253433227551 -50.2625503540745,-69.2629776011252 -50.2611312859399,-69.2691726691732 -50.2601890554409,-69.2751693719589 -50.2590217579086,-69.2861404426175 -50.2583999630497,-69.2957077030383 -50.2589302060268,-69.3050918578933 -50.2595710746088,-69.3100509651704 -50.259670256341,-69.3157196051662 -50.2596397396465,-69.326179504771 -50.2611999500826,-69.3339767456211 -50.2617301939589,-69.3460311890791 -50.263160705069,-69.354011535495 -50.2644996633959,-69.36322784538 -50.2651405328771,-69.3739089970939 -50.2643585201982,-69.3786163328689 -50.2640495293313,-69.3883438111096 -50.2630882260104,-69.3933029174872 -50.2629508968364,-69.3985977174024 -50.262481689049,-69.4062118526867 -50.262329101078,-69.4193115241994 -50.2621498104371,-69.4269332893319 -50.2622299184482,-69.4329528816623 -50.2626609796931,-69.4432296766006 -50.2641105654235,-69.4499664305986 -50.2645301818961,-69.4616622936724 -50.2649383535965,-69.4675064093859 -50.2657089224036,-69.4721527099722 -50.2679786673566,-69.4769668582266 -50.2713890071722,-69.4812622064784 -50.2743301392001,-69.485397338709 -50.2786598208698,-69.4873962402372 -50.2827606196827,-69.4888610847641 -50.2858390808849,-69.4942169189686 -50.2887802120135,-69.5000686654296 -50.289329527812,-69.5078735352286 -50.2897491451839,-69.5156936647241 -50.2911987300148,-69.5217666632941 -50.2955207827357,-69.5237731937712 -50.2985916140896,-69.5269927981724 -50.3013191211586,-69.5303878782914 -50.3036994926157,-69.5360565191865 -50.3037910462983,-69.5418930068503 -50.3028488157991,-69.5457305920867 -50.2987289423658,-69.5492019661914 -50.29402923554,-69.5491027835602 -50.2870597837612,-69.5483169568557 -50.2828292838235,-69.548088073999 -50.2790718074971,-69.5482101443762 -50.2754096979784,-69.5493927007062 -50.271289824545,-69.5567932137295 -50.2696609490731,-69.5651016238346 -50.2687110896251,-69.571121216165 -50.2687988274842,-69.5792770382986 -50.2694511408382,-69.5844116221926 -50.2693099976392,-69.5907669071611 -50.2686004631222,-69.5960311894819 -50.2653808596205,-69.5989913952309 -50.2625083917305,-69.6026763915963 -50.2605514525693,-69.6097412110823 -50.2590293877781,-69.6148605361791 -50.2584381096134,-69.6256866460163 -50.2598800654954,-69.631019593374 -50.261219023822,-69.6374130257851 -50.262680053425,-69.6438064581961 -50.2643699640862,-69.6511001596393 -50.2660484308743,-69.6582336432628 -50.2686386105676,-69.6624984748195 -50.2698783871622,-69.6690826417454 -50.2713394167653,-69.6760025022087 -50.2730216975781,-69.683258058008 -50.2725296011453,-69.693870544685 -50.2719192501588,-69.7041702282686 -50.2738113401072,-69.7102203363947 -50.2755012507683,-69.7146835323145 -50.2771911614293,-69.7187881478501 -50.2792282095007,-69.7250595089846 -50.2830810544338,-69.7272262581807 -50.285808562402,-69.7306900033365 -50.2909393304726,-69.7327270505085 -50.2958412165858,-69.7344207769928 -50.3009681697323,-69.7355804455766 -50.3063392636332,-69.7365417488981 -50.310440062446,-69.7410507212094 -50.3146514886625,-69.7483520516016 -50.3165588374079,-69.7527999878249 -50.3174591064402,-69.7572631837447 -50.3191490171012,-69.7621231083905 -50.3231201165881,-69.7694625862252 -50.3280410755234,-69.7738571171082 -50.3256988524084,-69.7777328488878 -50.3236312867429,-69.7855072019918 -50.3232498159149,-69.7929763791526 -50.3244705196876,-69.8025665291181 -50.3259201045184,-69.8135681155723 -50.3263206481689,-69.8206634526525 -50.3264083851286,-69.8321380618184 -50.3244209283732,-69.8444900513713 -50.3218498224017,-69.8530197144848 -50.3229598996702,-69.864410400716 -50.3255310056422,-69.8759384152224 -50.3259391773423,-69.8858566288771 -50.3258895869263,-69.8975372322543 -50.3253784176715,-69.9110107429483 -50.3252105709031,-69.9273071293176 -50.325370787824,-69.9339828490264 -50.3222503651547,-69.9399337763198 -50.3186912531914,-69.9435729980926 -50.3153610222861,-69.9452133192365 -50.309181212136,-69.9450683593145 -50.3030090327334,-69.9451217664535 -50.2974205016476,-69.9469299316682 -50.2910194393884,-69.9503479004324 -50.2854003907083,-69.9539794923569 -50.2815017693841,-69.9598999020561 -50.2771301262474,-69.9637374881918 -50.2748298637004,-69.9701995847404 -50.2706909174451,-69.9789505017616 -50.2662010188553,-69.9831466673822 -50.2645797723322,-69.9893569942273 -50.2646713251152,-69.9932937620949 -50.2664794912292,-69.999763489391 -50.2703285221374,-70.0079803476125 -50.2739486692897,-70.0117568976603 -50.2767906186862,-70.0175323492361 -50.2809906001302,-70.0274200443972 -50.2872314454691,-70.032279969043 -50.290748595066,-70.0384063720542 -50.2951812742909,-70.0450515750679 -50.2990303042997,-70.04971313625 -50.3011817920008,-70.057197572208 -50.3031997672503,-70.0619964607659 -50.3039817808294,-70.0691223154404 -50.3056602476173,-70.0751724253651 -50.3065490718772,-70.079963684974 -50.3072204589522,-70.0870971685975 -50.3092384333023,-70.0921020513666 -50.3108215323831,-70.1008224498942 -50.3123817437179,-70.1099929815889 -50.3103904720383,-70.1193237311035 -50.3085288996847,-70.1281204227175 -50.3061981195434,-70.13713836734 -50.3054809560772,-70.144218445623 -50.3053283681057,-70.1494626649683 -50.3057283038143,-70.1576765095616 -50.2977815758553,-70.1591114399153 -50.2979981116094,-70.160731144823 -50.3000052192768,-70.1666738853789 -50.2996293842347,-70.1668046147945 -50.2996419952083,-70.1696592121249 -50.3018168196717,-70.1707401837375 -50.3018059378613,-70.1775050673606 -50.3007329923134,-70.1840255783606 -50.301070623326,-70.186902963826 -50.299564435589,-70.1893448330095 -50.2999844436815,-70.1940465692948 -50.3014551179347,-70.1962122631839 -50.3043167459177,-70.1970538555741 -50.3042463520731,-70.2042167099929 -50.303441684058,-70.2064584823833 -50.3063379257596,-70.2081618892172 -50.3065016135958,-70.2264082676049 -50.3079328636935)))'
			
		];

		/*var format = new ol.format.WKT();

		var feature = format.readFeature(wkts[0], {
			dataProjection: 'EPSG:4326',
			featureProjection: 'EPSG:3857'
		});

		var vector = new VectorLayer({
			source: new VectorSource({
				features: [feature]
			})
		});*/
		
		
		var layer_873 = new ol.layer.Tile({
			name:"ahrsc:vp_geo_limites_provinciales_sit_pga",
			visible:true,
			source: new ol.source.TileWMS({
				url: "http://observatorio.ieasa.com.ar/geoserver/ows?",
				params: {
					'LAYERS': "ahrsc:vp_geo_limites_provinciales_sit_pga",
					'VERSION': '1.1.1',
					'FORMAT': 'image/png',
					'TILED': false,
					'clase_id':-1,
					'layer_id':873
				}/*,
				crossOrigin: 'anonymous'*/
			})
		});
		
		var layer_874 = new ol.layer.Tile({
			name:"ahrsc:polig_rscruz_pga",
			visible:true,
			source: new ol.source.TileWMS({
				url: "http://observatorio.ieasa.com.ar/geoserver/ows?",
				params: {
					'LAYERS': "ahrsc:polig_rscruz_pga",
					'VERSION': '1.1.1',
					'FORMAT': 'image/png',
					'TILED': false,
					'clase_id':-1,
					'layer_id':874
				}/*,
				crossOrigin: 'anonymous'*/
			})
		});
		
		var layer_875 = new ol.layer.Tile({
			name:"ahrsc:polig_obra_pga",
			visible:true,
			source: new ol.source.TileWMS({
				url: "http://observatorio.ieasa.com.ar/geoserver/ows?",
				params: {
					'LAYERS': "ahrsc:polig_obra_pga",
					'VERSION': '1.1.1',
					'FORMAT': 'image/png',
					'TILED': false,
					'clase_id':-1,
					'layer_id':875
				}/*,
				crossOrigin: 'anonymous'*/
			})
		});
		
		
		this.baselayers.collection = [this.baselayers.openstreets,this.baselayers.opentopo,this.baselayers.bing_roads,this.baselayers.bing_aerials,this.baselayers.google,this.baselayers.argenmap,layer_872,layer_873,layer_874,layer_875/*,vector*/];
		
		
		///////document.getElementById("baselayer-default-radio").click();
		
		this.ol_object = new ol.Map({
			interactions: ol.interaction.defaults({
				doubleClickZoom: false,
				dragAndDrop: false,
				dragPan: false,
				keyboardPan: false,
				keyboardZoom: false,
				mouseWheelZoom: false,
				pointer: false,
				select: false
			}),
			layers:this.baselayers.collection,
			target: 'map',
			extent: [-8743435.457752563,-7463770.851212183,-6782265.669620513,-5626227.81190221],
			controls: [],
			view: new ol.View({
				center: [-7176058.888636417,-4680928.505993671],
				zoom:5.8,
				minZoom: 5.8,
				maxZoom: 5.8
			})
		});
		
		layer_874.setZIndex(500);
		layer_875.setZIndex(400);
		layer_872.setZIndex(300);
		layer_873.setZIndex(200);
		
		/*var js = {
			
			minx:-8758221.51045902,
			miny:-7304514.551140834,
			maxx:-6797051.72232697,
			maxy:-5466971.511830861,
			
		}*/
		
		var js = {
			
			minx:-8743435.457752563,
			miny:-7463770.851212183,
			maxx:-6782265.669620513,
			maxy:-5626227.81190221
			
		}
		
		var extent = ol.proj.transformExtent(
			[js.minx,js.miny,js.maxx,js.maxy],
			"EPSG:3857", "EPSG:3857"
		);
				
		this.ol_object.getView().fit(extent,{duration:1000});
		this.ol_object.updateSize();
		this.ol_object.render();
		
		this.baseLayer = this.baselayers.bing_aerials;
		
		this.ol_object.infoEnabled = true;
		this.ol_object.map_object = this;
		
		this.ol_object.addEventListener("click",function(evt) {
			
			$("#popup-results").empty();
			$("#popup-results-preparse").empty();
			
			if (this.infoEnabled ) {
			
				var pos = evt.coordinate;
								
				/*console.log("POS: " + pos);
				
				var coord = String(pos).split(",");
				
				document.getElementById("global-coordinates-fixed-span").innerHTML = "ltimo Click: EPSG:3857 | " + coord[1] + ", " + coord[0];
				
				var iconFeature = new ol.Feature({
				  geometry: new ol.geom.Point(pos)
				});

			
				var iconStyle = new ol.style.Style({
					image: new ol.style.Icon( ({
					anchor: [0.5, 26],
					anchorXUnits: 'fraction',
					anchorYUnits: 'pixels',
					opacity: 0.95,
					src: './images/map-marker.png'
					}))
				});

				iconFeature.setStyle(iconStyle);
				
				if (!this.map_object.markersLayer) {

					this.map_object.markersLayer = new ol.layer.Vector({
						visible:true,
						source: new ol.source.Vector({
							features: [iconFeature]
						})
					});
					
					this.map_object.ol_object.addLayer(this.map_object.markersLayer);
					
				}else{
					
					this.map_object.markersLayer.getSource().clear();
					this.map_object.markersLayer.getSource().addFeature(iconFeature);
					
				}*/
			
				$("#info-wrapper").empty();
				
				this.map_object.gfiAddedLayers = [];
				
				var view = this.getView();
				var map = this.map_object;
				
				var viewResolution = (view.getResolution());
				var url = '';
				
				var ii = 0;
				
				this.getLayers().forEach(function (layer, i, layers) {	
				
					var baselayer_names = ["openstreets","opentopo","bing","bing_roads","bing_aerials","google_base"];
					var isBase = false;
					
					for (var i=0; i<baselayer_names.length; i++) {
						
						if (layer.get('name') == baselayer_names[i]) {
							
							isBase = true;
							break;
							
						}
						
					}
					
					// alert("LAYER: " + layer.get('name') + " - VISIBLE: " + layer.getVisible() + " - ISBASE: " + isBase);
					
					if ((layer.getVisible()) && (isBase == false)) {
						
						if(layer.getSource().getGetFeatureInfoUrl) {	
						
							url = layer.getSource().getGetFeatureInfoUrl(evt.coordinate, viewResolution, 'EPSG:3857', {
								'INFO_FORMAT': 'text/html',
									'FEATURE_COUNT': '300'
							});	
							
							var req = $.ajax({
								
								async:false,
								type:"GET",
								url:url,
								//url:"urldeprueba.php",
								success:function(d){}
								
							})
							
							if (req.responseText != "") {
							
								var html = req.responseText;
									html = html.split("body>");
								
								if (html.length > 0) {
								
									html = html[1].substring(0,html[1].length-2);
									html = html.trim();
									
									map.preparseGFI(html,"popup-info","info-wrapper"); // PARA ACOMODAR RESPUESTA A ESTRUCTURA DE IEASA
									
								
								}
							
							}
							
							//map.parseGFI(req.responseText,"popup-info","info-wrapper");
						
							scroll.refresh();
						
						}
						
						map.gfiAddedLayers.push(layer.layer_id);
					
					}
					
					if (ii==(layers.length-1)) {
	
						map.parseGFI();
						
					}
					
					ii++;
					
				});
			
			}
			
		});		
		
		this.global_mouse_position_3857 = new ol.control.MousePosition({
			coordinateFormat: function(coordinate) {
			  return "EPSG:3875 | " + ol.coordinate.format(coordinate, '{y}, {x}', 4);
			},
			projection: 'EPSG:3857',
			className: 'custom-mouse-position',
			target: document.getElementById('global-coordinates-span')
		});
		
		this.ol_object.addControl(this.global_mouse_position_3857);
		
		this.createLayers = function() {
			
			//
			
		}
		
		this.createPrintLegendDiv = function() {
			
			var div = document.createElement("div");
				div.id = "print-legend-wrapper";
			
			document.getElementById("map").appendChild(div);
			
		}		
		
	}
	
	this.map.startSearch = function() {
		
		$("#panel-seach-input-layers-bottom").val("");
		
		$("#panel-seach-input-layers-bottom").bind("focus",function() {
			
			$(this).parent().animate({
				
				"background-color":"#31cbfd"
				
			},"fast");
			
		});
		
		$("#panel-seach-input-layers-bottom").bind("blur",function() {
			
			$(this).parent().animate({
				
				"background-color":"#4c4b4b"
				
			},"fast");
			
		});
		
		$("#panel-seach-input-layers-bottom").bind("keyup",function(e) {
			
			if ($("#panel-seach-input-layers-bottom").val().trim() == "") {
				
				$("#panel-busqueda-geovisor").hide();
				
			}else{
				
				if (e.which == 13) {
					
					this.searchInLayers($("#panel-seach-input-layers-bottom").val());				
					$("#panel-busqueda-geovisor").css("display","flex");
					
				}
				
			}
			
		}.bind(this));
		
	}
	
	this.map.searchGlobal = function() {
		
		var pattern = $("#main-search").val();
		var url = "./mediateca.php?s="+pattern;
		var flink = document.createElement("a");
			flink.href = url;
			flink.target = "_blank";
			document.body.appendChild(flink);
			flink.click();
			$(flink).remove();
		
	}
	
	this.map.searchInLayers = function(pattern) {
		
		$("#panel-busqueda-geovisor").css("display","flex");
		$("#panel-busqueda-geovisor .panel-header").html("Resultados de Bsqueda");
		
		var req = $.ajax({
			
			async:false,
			url:"./php/get-layers-search.php",
			type:"post",
			data:{
				pattern:pattern
			},
			success:function(d){}
			
		});		
		
		$("#panel-busqueda-geovisor .panel-body").html(req.responseText);
		
		scroll.refresh();
		
	}
	
	this.map.setBaseLayer = function(layerObj) {
		
		for (var i=0; i<this.baselayers.collection.length; i++) {
				
			this.baselayers.collection[i].setVisible(false);
		
		}
		
		layerObj.setVisible(true);
		this.baseLayer = layerObj;
		
	}	
	
	this.map.getBaseLayer = function() {
		
		return this.baseLayer;
		
	}
	
	this.map.activateClases = function(arrid) {
		
		for (var i=0; i<arrid.length; i++) {
			
			$(".panel-abr[data-cid="+arrid[i]+"]").attr("data-active",1);
			$(".panel-abr[data-cid="+arrid[i]+"]").show();
			
		}
		
	}
	
	this.map.updateLayerCount = function() {
		
		var count = $(".layer-checkbox[data-added=1]").length;
		$(".layers-visible-count").html("("+count+")");
		
	}
	
	this.map.panel = this.panel;
	
	this.map.loadGeovisor = function(geovid) {
		
		var req = $.ajax({
			
			async:false,
			type:"POST",
			url:"./php/get-geovisor.php",
			data:{geovid:geovid},
			success:function(d){}
			
		});
		
		this.geovisor = geovid;
		
		var js = JSON.parse(req.responseText);
		
		$("#navbar-tools h3").html(js.geovisor_desc);
		
		var panel = this.panel;
		
		for (var i=0; i<js.data.length; i++) {
			
			//if (js.data[i].iniciar_panel == "t") {
				
				if (js.data[i].iniciar_panel == "t") { js.data[i].iniciar_panel = true; } else { js.data[i].iniciar_panel = false; }
				if (js.data[i].iniciar_visible == "t") { js.data[i].iniciar_visible = true; } else { js.data[i].iniciar_visible = false; }
				
				var cid = $(".layer-checkbox[data-lid="+js.data[i].layer_id+"]").attr("data-cid");
				
				var lid = $(".layer-checkbox[data-lid="+js.data[i].layer_id+"]").attr("data-lid");
					
				panel.AddLayer(cid,lid,js.data[i].iniciar_panel,js.data[i].iniciar_visible);
				
				if (js.data[i].iniciar_visible) {
					
					$(".layer-checkbox[data-lid="+js.data[i].layer_id+"]").prop("checked",true);
					
				}
				
			//}
			
		}
		
		var array_geovisor = [ parseFloat(js.minx), parseFloat(js.maxx), parseFloat(js.miny), parseFloat(js.maxy) ];
		
		this.ol_object.getView().fit(array_geovisor,{size:this.ol_object.getSize()});
		//this.ol_object.getView().fit([ -8149293.741521936, -6378849.225655933, -7812129.881098088, -6226949.882287896 ],{size:this.ol_object.getSize()});
		this.ol_object.updateSize();
		this.ol_object.render();
		
	}
	
	this.map.preparseGFI = function(response,containerID,wrapperID) {
		
		document.getElementById("popup-results-preparse").innerHTML += response;
		
		var newnodes = "";
		
		$("#popup-results-preparse table[class=featureInfo] tbody").children("tr").each(function(i,v) {
			
			if ($(v).children("th").length == 0) {
			
				var node = $(v).children("td").first();
				var val = $(node).text().split(".");
				
				var gid = $(v).children("td:nth-child(2)");
					gid = $(gid).text();
				
				var newnode = "<img src=\"../img/t.gif\" x=\"" + gid + "\" y=\"" + val[0] + "\" z=\"1\" />";
				
				newnodes += newnode;
			
			}
			
		});
		
		document.getElementById("popup-results").innerHTML += newnodes;
	
	}
	
	this.map.parseGFI = function() {
		
		var results = [];
		
		var entered = false;
		
		$("#popup-results").children().each(function(i,v) {
			
			var gid = $(v).attr("x");
			var layer_name = "ahrsc:"+$(v).attr("y");
			
			results.push(layer_name + ";" + gid);
			
			entered = true;
			
		});
		
		if (entered) {
			
			$("#map-details").empty();
			
			var req = $.ajax({
				
				async:false,
				type:"POST",
				data:{
					results:results
				},
				url:"./php/get-layer-info-pdga.php",
				success:function(d) {}
				
			});
			
			document.getElementById("map-details").innerHTML = req.responseText;
			
			scroll.refresh();
	
		}
		
		//$("#popup-results").empty();
		
	}
	
	this.map.parseGFIbuffer = function(response,containerID,wrapperID) {
		
		document.getElementById(wrapperID).innerHTML = "";
		
		document.getElementById("popup-results-buffer").innerHTML = response;
		
		var results = [];
		
		var entered = false;
		
		$("#popup-results-buffer").children().each(function(i,v) {
			
			var gid = $(v).attr("x");
			var layer_name = $(v).attr("y");
			
			results.push(layer_name + ";" + gid);
			
			entered = true;
			
		});
		
		if (entered) {
			
			jwindow.close("popup-info");
			
			$("#info-wrapper").empty();
		
			var req = $.ajax({
				
				async:false,
				type:"POST",
				data:{
					results:results
				},
				url:"./php/get-layer-info-pdga.php",
				success:function(d) {}
				
			});
			
			document.getElementById(wrapperID).innerHTML = req.responseText;
					
			jwindow.open(containerID);
			
			scroll.refresh();
			
			$("[title]").tooltipster({
				animation: 'fade',
				delay: 200,
				theme: 'tooltipster-default',
				trigger: 'hover'
			});
	
		}
		
	}
	
	this.map.zoomToLayerExtent = function(layer_id) {
		
		var js = this.getLayerExtent(layer_id);
		
		var extent = ol.proj.transformExtent(
			[js.minx,js.miny,js.maxx,js.maxy],
			"EPSG:3857", "EPSG:3857"
		);
		
		this.ol_object.getView().fit(extent,{duration:1000});
		this.ol_object.updateSize();
		this.ol_object.render();
		
	}
	
	this.map.getLayerExtent = function(layer_id) {
		
		var reqExtent = $.ajax({
			
			async:false,
			url:"./php/get-layer-extent.php",
			type:"post",
			data:{layer_id:layer_id},
			success:function(d){}
				
		});
		
		var js = JSON.parse(reqExtent.responseText);
		
		return js;
		
	}
	
	this.map.getLayerData = function(layer_id) {
		
		var reqExtent = $.ajax({
			
			async:false,
			url:"./php/get-layer-data.php",
			type:"post",
			data:{layer_id:layer_id},
			success:function(d){}
				
		});
		
		var js = JSON.parse(reqExtent.responseText);
		
		return js;
		
	}
	
	this.map.setupTools = function() {
		
		$(".toggleable-tool").each(function(i,v) {
			
			$(v).bind("click",function() {
				
				if ($(v).closest("#dropdown-draw").length == 0) {
					
					if ((this.drawing) && (this.drawing.source)) {
						
						this.drawing.source.clear();
						
					}
					
				}
				
				
			}.bind(this));
			
		}.bind(this));
		
	}
	
	this.map.disableTools = function() {			
			
		if (this.deleteSelect) { this.ol_object.removeInteraction(this.deleteSelect); }
		if (this.select) { this.ol_object.removeInteraction(this.select); }
		if (this.modify) { this.ol_object.removeInteraction(this.modify); }
		if (this.draw) { this.ol_object.removeInteraction(this.draw); }
		if (this.medi_draw) { this.ol_object.removeInteraction(this.medi_draw); }
		if (this.bufferdraw) { this.ol_object.removeInteraction(this.bufferdraw); }
		if (this.ptopo_draw) { this.ol_object.removeInteraction(this.ptopo_draw); }
		
		if ((this.drawing) && (this.drawing.source)) {
			
			var vectorLayer = this.drawing;
			var source = this.drawing.source;
			var features = this.drawing.source.getFeatures();
				
				features.forEach((feature) => {
					source.removeFeature(feature);
				});			
						
			this.drawing.source.clear();
		}
		
		if ((this.buffer) && (this.buffer.source)) {
			
			var vectorLayer = this.buffer;
			var source = this.buffer.source;
			var features = this.buffer.source.getFeatures();
				
				features.forEach((feature) => {
					source.removeFeature(feature);
				});			
						
			this.buffer.source.clear();
			
		}
		
		if ((this.medicion) && (this.medicion.source)) {
			
			var vectorLayer = this.medicion;
			var source = this.medicion.source;
			var features = this.medicion.source.getFeatures();
				
				features.forEach((feature) => {
					source.removeFeature(feature);
				});			
						
			this.medicion.source.clear();
			
		}
		
		if ((this.ptopografico) && (this.ptopografico.source)) {
			
			var vectorLayer = this.ptopografico;
			var source = this.ptopografico.source;
			var features = this.ptopografico.source.getFeatures();
				
				features.forEach((feature) => {
					source.removeFeature(feature);
				});			
						
			this.ptopografico.source.clear();
			
		}
		
		this.ol_object.infoEnabled = true;
		
		$(".toggleable-tool-active").removeClass("toggleable-tool-active");
		
		if (this.markersLayer) {
		
			this.markersLayer.getSource().clear();
		
		}
		
	}
	
	this.map.setupDisableTools = function() {
		
		$("body").on("keyup",function(event) {
			
			if (event.which == 27) {				
			
				this.disableTools();
				
			}
			
		}.bind(this));
		
	}
	
	this.map.share = function() {
		
		var s_layers = [];
		var s_visibles = [];
		var s_clase = [];
		var clase_active = $(".panel-abr[data-active=1]").attr("data-cid");
		
		if (clase_active == undefined) {
			
			clase_active = "";
			
		}
		
		var zoom = this.ol_object.getView().getZoom();
		var center = this.ol_object.getView().getCenter();
		
		$(".panel-abr:visible").each(function(i,v) {
			
			s_clase.push(this.getAttribute("data-cid"));
			
		});
		
		$(".layer-checkbox[data-added=1]").each(function(i,v) {
			
			if (v.layer) {
								
				var visible = 0;
				
				if (v.layer.getVisible()) { visible = 1; }
				
				s_layers.push(v.getAttribute("data-lid"));
				s_visibles.push(visible);
				s_clase.push(v.getAttribute("data-cid"));
				
			}
			
		});
		
		var s_link = SITEURL+"geovisor.php?";
			s_link += "fk=0";
			s_link += "&c=" + s_clase.join(",");
			s_link += "&ca=" + clase_active;
			s_link += "&l=" + s_layers.join(",");
			s_link += "&v=" + s_visibles.join(",");
			s_link += "&cen=" + center;
			s_link += "&z=" + zoom;
		
		$("#input-share").val(s_link);
		
		$(".popup").not("#popup-busqueda").hide();
		$("#popup-share").show();
		
	}
	
	this.map.print = function() {					
			
		$("#print-legend-wrapper").empty();
		$("#print-legend-wrapper").show();
			
		$(".layer-checkbox[data-added=1]:checked").each(function(i,v) {
			
			var src = $(v).parent().parent().next(".layer-body").children(".layer-legend").children("img").attr("src");
			var newImage = document.createElement("img");
				newImage.setAttribute("src",src);
			
			$("#print-legend-wrapper").append(newImage);
			
			//$(v).parent().parent().next(".layer-body").children(".layer-legend").clone().appendTo("#print-legend-wrapper");
			
		});/*
		
		this.ol_object.once('rendercomplete', function(event) {
			
			var canvas = event.context.canvas;
			
			if (navigator.msSaveBlob) {
				navigator.msSaveBlob(canvas.msToBlob(), 'map.png');
			} else {
				canvas.toBlob(function(blob) {
					saveAs(blob, 'map.png');
				});
			}
        });
		
        this.ol_object.renderSync();*/

		/*html2canvas(document.querySelector("#map")).then(canvas => {
			
			var a = document.createElement('a');
			// toDataURL defaults to png, so we need to request a jpeg, then convert for file download.
			a.href = canvas.toDataURL();
			a.download = 'captura.png';
			
			document.body.appendChild(a);
			
			a.click();
			
			$(a).remove();
			
			$("#print-legend-wrapper").hide();
			
		});*/
		
		var node = document.getElementById('map');

		domtoimage.toPng(node)
			.then(function (dataUrl) {
				var img = new Image();
				img.crossOrigin = "Anonymous";
				img.src = dataUrl;
				document.body.appendChild(img);
			})
			.catch(function (error) {
				console.error('oops, something went wrong!', error);
			});
		
	}
	
	this.map.mapear = function(query_id) {
		
		sld_result = '';		
		
		/**** Generar el SLD ****/
		s = new sldlib();
		capa = s.sld_get_intervalos(query_id); /* Retorna la capa que corresponde por tipo de geometria */
		
		var layer = new ol.layer.Tile({
				visible:true,
				singleTile: true,
				source: new ol.source.TileWMS({
					url: "http://observatorio.ieasa.com.ar:8080/geoserver/ows?",
					params: {
						'LAYERS': capa,//'intervalos_polygons',
						'id':query_id,
						//'VERSION': '1.1.1',
						'FORMAT': 'image/png',
						'TILED': false,
						'SLD':'http://'+window.location.hostname+'/sld/'+query_id+'.sld' /* EL SLD CREADO ES SIEMPRE EL ID_MAPEO.SLD */,
						'viewparams':'id:'+query_id
					}
				})
			});
		
		this.ol_object.addLayer(layer);
		
		var reqExtent = $.ajax({
			
			async:false,
			url:"./php/get-layer-extent-mapeo.php",
			type:"post",
			data:{query_id:query_id},
			success:function(d){}
				
		});
		
		var js = JSON.parse(reqExtent.responseText);
		
		var extent = ol.proj.transformExtent(
			[js.minx,js.miny,js.maxx,js.maxy],
			"EPSG:3857", "EPSG:3857"
		);
		
		this.ol_object.getView().fit(extent,{duration:1000});
		this.ol_object.updateSize();
		this.ol_object.render();
		
		this.panel.AddLayerActiveFromStats(query_id,layer);
		
	}
	
	this.map.deactivateCoordinates = function() {
		
		this.ol_object.removeControl(this.mouse_position_3857);
		this.ol_object.removeControl(this.mouse_position_4326);
		
	}
	
	this.map.activateCoordinates = function() {
		
		this.disableTools();
		
		document.getElementById('coord-3857').innerHTML = "";
		document.getElementById('coord-4326').innerHTML = "";
		
		this.mouse_position_3857 = new ol.control.MousePosition({
			coordinateFormat: ol.coordinate.createStringXY(3),
			projection: 'EPSG:3857',
			className: 'custom-mouse-position',
			target: document.getElementById('coord-3857')
		});
		
		this.mouse_position_4326 = new ol.control.MousePosition({
			coordinateFormat: ol.coordinate.createStringXY(3),
			projection: 'EPSG:4326',
			className: 'custom-mouse-position',
			target: document.getElementById('coord-4326')
		});
		
		this.ol_object.addControl(this.mouse_position_3857);
		this.ol_object.addControl(this.mouse_position_4326);
		
		this.ol_object.infoEnabled = false;
		
		this.ol_object.on("click",this.saveCoordinate);
		
		$("#coord-tbl").show();
		$("#coord-hint").show();
		$("#btn-popup-capturar").hide();
		$("#coord-capture-wrapper").hide();
		
	}
	
	this.map.saveCoordinate = function(e) {
		
		var lon = e.coordinate[0];
		var lat = e.coordinate[1];
		
		var coordarray4326 = ol.proj.transform(e.coordinate,'EPSG:3857', 'EPSG:4326');
		
		var lon4326 = coordarray4326[0];
		var lat4326 = coordarray4326[1];		
		
		var coord_3875 = "Long: " + parseFloat(lon).toFixed(3) + " &nbsp;&nbsp;Lat: " + parseFloat(lat).toFixed(3);
		var coord_4326 = "Long: " + parseFloat(lon4326).toFixed(3) + " &nbsp;&nbspLat: " + parseFloat(lat4326).toFixed(3);
		
		var req = $.ajax({
			
			async:false,
			type:"POST",
			url:"./php/get-coord-transformed.php",
			data:{lon:lon,lat:lat},
			success:function(d){}
			
		});
		
		var js = JSON.parse(req.responseText);
		
		$("#cap-coord-3857").html(coord_3875);
		$("#cap-coord-4326").html(coord_4326);
		$("#cap-coord-100001").html("Long: " + js.coord100001.lon+" &nbsp;&nbspLat: " + js.coord100001.lat);
		$("#cap-coord-100002").html("Long: " + js.coord100002.lon+" &nbsp;&nbspLat: " + js.coord100002.lat);
		$("#cap-coord-100003").html("Long: " + js.coord100003.lon+" &nbsp;&nbspLat: " + js.coord100003.lat);
		
		$("#coord-tbl").hide();
		$("#coord-hint").hide();
		$("#btn-popup-capturar").show();
		$("#coord-capture-wrapper").show();
		
		this.map_object.deactivateCoordinates();
		
		this.map_object.ol_object.infoEnabled = true;
		
		this.un("click",this.map_object.saveCoordinate);
		
	}
	
	this.map.buffer = function(type,node) {
		
		if ($(node).hasClass("toggleable-tool-active")) {
			
			this.buffer.source.clear();
			
			if (this.bufferdraw) { 	this.ol_object.removeInteraction(this.bufferdraw); }
			
			$(node).removeClass("toggleable-tool-active");
			
			this.ol_object.infoEnabled = true;
			
			jwindow.close("popup-buffer");
			
		}else{
			
			$(".toggleable-tool-active").not(node).trigger("click");
			$(node).addClass("toggleable-tool-active");
			this.ol_object.infoEnabled = false;
			
			if (!this.buffer.source) {
				
				this.buffer.source = new ol.source.Vector({
					wrapX: false
				});
				
				var source = this.buffer.source;
				
				this.buffer.layerVector = new ol.layer.Vector({
					source: source
				});
				
				this.ol_object.addLayer(this.buffer.layerVector);
				
			}
			
			var format = new ol.format.WKT();		
			
			if (this.bufferdraw) {
					
				this.ol_object.removeInteraction(this.bufferdraw);
					
			}
			
			if (type == "circle") {
				
				this.bufferdraw = new ol.interaction.Draw({
					source: this.buffer.source,
					type:"Circle"			
				});
				
				this.buffer.type = "circle";
			
			}else{
				
				this.bufferdraw = new ol.interaction.Draw({
					source: this.buffer.source,
					type:"Polygon"			
				});
				
				this.buffer.type = "polygon";
				
			}
			
			$("#buffer-hint").show();
			$("#info-buffer").empty();
			
			this.buffer.source.clear();
			
			this.bufferdraw.on("drawstart",function(e) {
				
				this.ol_object.infoEnabled = false;
				
			}.bind(this));
			
			this.bufferdraw.on('drawend', function (e) {
				
				var format = new ol.format.WKT();			
				
				if (this.buffer.type == "circle") {
					
					var circle = ol.geom.Polygon.fromCircle(e.feature.getGeometry());
				
				}else{
					
					var circle = e.feature.getGeometry();
					
				}
				
				var wkt = format.writeGeometry(circle.transform('EPSG:3857', 'EPSG:4326'));		
				
				var wkt = format.writeGeometry(circle.transform('EPSG:4326', 'EPSG:3857'));	
				
				var layers = [];

				var mapLayers = geomap.map.ol_object.getLayers().getArray();

				for (var i=0; i<mapLayers.length; i++) {
				  
				  if ((mapLayers[i].getVisible()) && (mapLayers[i].getSource().params_)) {
					
					layers.push(mapLayers[i].getSource().params_.layer_id);
					
				  }
				  
				}
				
				var req = $.ajax({
					
					async:false,
					type:"post",
					url:"./php/get-buffer.php",
					data:{wkt:wkt,layers:layers},
					success:function(d){}
					
				});
				
				$("#buffer-hint").hide();
				
				this.parseGFIbuffer(req.responseText,"popup-buffer","info-buffer");

			}.bind(this));
			
			this.ol_object.addInteraction(this.bufferdraw);
			
		}
		
	}
	
	this.map.addBuffer = function(layer_id,dlurl,addLink) {
		
		var distance = $("#buffer-input-"+layer_id).val();
		var dlurl = dlurl += "viewparams=layer_id:"+layer_id+";distancia:"+distance;
		
		if ((isNaN(parseInt(distance))) || (distance.trim() == "")) {
			
			alert("La distancia ingresada es incorrecta o est vaca");
			
		}else{
		
			$("#dlbuffer-link-"+layer_id).attr("href",dlurl);
			
			//addLink.innerHTML = "ACTUALIZAR";
			
			this.readBuffer(layer_id,distance,true);
		
		}
		
	}
	
	this.map.readBuffer = function(layer_id,distance,visible) {
		
		if ((isNaN(parseInt(distance))) || (distance.trim() == "")) {
			
			alert("La distancia ingresada es incorrecta o est vaca");
			
		}else{
			
			var layer = new ol.layer.Tile({
					name:'get_buffer',
					visible:false,
					source: new ol.source.TileWMS({
						url: "http://observatorio.ieasa.com.ar:8080/geoserver/ows?",
						params: {
							'LAYERS': 'get_buffer',
							'VERSION': '1.1.1',
							'FORMAT': 'image/png',
							'TILED': false,
							'viewparams':'layer_id:'+layer_id+";distancia:"+distance
							/*'distancia':distance,
							'layer_id':layer_id*/
						}/*,
						crossOrigin: 'anonymous'*/
					})
				});			
			
			this.layersBuffer[this.layersBufferIndex] = layer;
			
			this.ol_object.addLayer(this.layersBuffer[this.layersBufferIndex]);
			
			this.layersBuffer[this.layersBufferIndex].setVisible(visible);
			this.layersBufferIndex++;
			this.panel.AddLayerActive(-1,layer_id,true,layer,distance);
			
			this.layersBufferIndex++;
			
		}
		
	}
	
	this.map.downloadFeatures = function() {
		
		var features = this.drawing.source.getFeatures();
		
		var writer = new ol.format.GeoJSON();
		var geojsonStr = writer.writeFeatures(features);	
		
		var vectorSource = new ol.source.Vector({
			features: (new ol.format.GeoJSON()).readFeatures(geojsonStr)
		});
		
		var format = new ol.format.KML();
		var kml = format.writeFeatures(vectorSource.getFeatures(), {featureProjection: 'EPSG:3857'});
				
		//var dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(geojsonStr));
		//var blob = new Blob(kml, {type : 'text/html'});
		//var url = URL.createObjectURL(blob);
		
		var req = $.ajax({
			async:false,
			url:"php/create-kml.php",
			type:"post",
			data:{kml:kml},
			success:function(d){}
		});
		
		var js = JSON.parse(req.responseText);
		
		var dlAnchorElem = document.createElement("a");
		
		dlAnchorElem.setAttribute("id","jsondltemp");		
		dlAnchorElem.setAttribute("href",     js.fileurl     );
		dlAnchorElem.setAttribute("download", "content.kml");
		
		document.body.appendChild(dlAnchorElem);	
		
		dlAnchorElem.click();
		
		$("body").remove("#jsondltemp");
	
		if (this.deleteSelect) { this.ol_object.removeInteraction(this.deleteSelect); }
		if (this.select) { this.ol_object.removeInteraction(this.select); }
		if (this.modify) { this.ol_object.removeInteraction(this.modify); }
		if (this.draw) { this.ol_object.removeInteraction(this.draw); }
		if (this.medi_draw) { this.ol_object.removeInteraction(this.medi_draw); }
		if (this.buffer_draw) { this.ol_object.removeInteraction(this.buffer_draw); }
		if (this.ptopo_draw) { this.ol_object.removeInteraction(this.ptopo_draw); }
	
	}
	
	this.map.deleteFeature = function() {		
		
		if (this.deleteSelect) { this.ol_object.removeInteraction(this.deleteSelect); }
		if (this.select) { this.ol_object.removeInteraction(this.select); }
		if (this.modify) { this.ol_object.removeInteraction(this.modify); }
		if (this.draw) { this.ol_object.removeInteraction(this.draw); }
		if (this.medi_draw) { this.ol_object.removeInteraction(this.medi_draw); }
		if (this.buffer_draw) { this.ol_object.removeInteraction(this.buffer_draw); }
		if (this.ptopo_draw) { this.ol_object.removeInteraction(this.ptopo_draw); }
		
		if (this.drawing.source) {
			
			if (!this.deleteSelect) {			
			
				this.deleteSelect = new ol.interaction.Select({
					wrapX: false
				});
				
				var layer = this.drawing.layerVector;
				
				this.deleteSelect.on("select",function(evt) {
					
					var l = evt.target.getFeatures().getLength();
					
					evt.target.getFeatures().forEach(function(f) {
						
						layer.getSource().removeFeature(f);
						
					});;
					
				});
			
			}
			
			this.ol_object.addInteraction(this.deleteSelect);
			
		}
		
	}
	
	this.map.drawing = function(type,node) {
		
		if ($(node).hasClass("toggleable-tool-active")) {
			
			//this.drawing.source.clear();
			
			if (this.draw) { 	this.ol_object.removeInteraction(this.draw); }
			
			$(node).removeClass("toggleable-tool-active");
			
			this.ol_object.infoEnabled = true;
			
		}else{
			
			$(".toggleable-tool-active").not(node).trigger("click");
			$(node).addClass("toggleable-tool-active");
			this.ol_object.infoEnabled = false;
		
			if (!this.drawing.source) {
				
				this.drawing.source = new ol.source.Vector({
					wrapX: false
				});
				
				var source = this.drawing.source;
				
				this.drawing.layerVector = new ol.layer.Vector({
					source: source
				});
				
				this.ol_object.addLayer(this.drawing.layerVector);
				
			}
				
			if (!type) { type = "Point"; }
			
			switch(type) {
				
				case "Select":
				
				if (this.select) {
					
					this.ol_object.removeInteraction(this.select);	
				
				}else{
				
					this.select = new ol.interaction.Select({
						wrapX: false
					});
				
				}
				
				this.select.on('select', function(e) {
				
					var features = e.target.getFeatures().getArray();
					var len = e.target.getFeatures().getLength();
					
					if (len>0) {
						
						jwindow.open("popup-features");
						
						$("#info-features").empty();
						
						for(var i=0; i<len; i++) {
							
							var html = "<div class=\"tarjeta-features\">";							
							
							if (features[i].getGeometry().getType() == "Point") {
								
								html += "<p>Geometra de Punto</p>";
								html += "<p>Coordenadas: "+features[i].getGeometry().getCoordinates()+"</p>";
								
							}
							
							if (features[i].getGeometry().getType() == "LineString") {
								
								html += "<p>Geometra de Lneas</p>";
								html += "<p>Largo: "+((features[i].getGeometry().getLength())/1000)+" Km.</p>";
								
							}
							
							if (features[i].getGeometry().getType() == "Circle") {
								
								html += "<p>Geometra Circular</p>";
								html += "<p>Radio: "+((features[i].getGeometry().getRadius())/1000)+" Km.</p>";
								html += "<p>Centro: "+features[i].getGeometry().getCenter()+"</p>";
								html += "<p>Coordenada Inicial: "+features[i].getGeometry().getFirstCoordinate()+"</p>";
								html += "<p>Coordenada Final: "+features[i].getGeometry().getLastCoordinate()+"</p>";
								
							}
							
							if (features[i].getGeometry().getType() == "Polygon") {
								
								html += "<p>Geometra de Polgono</p>";
								html += "<p>Coordenadas: "+features[i].getGeometry().getCoordinates()+"</p>";
								html += "<p>Extent: "+features[i].getGeometry().getExtent()+"</p>";
								html += "<p>rea: "+((features[i].getGeometry().getArea())/1000)+" Km.</p>";
								
							}
							if (i!=(len-1)) { html += "<hr>"; }
							html += "</div>";
							
							document.getElementById("info-features").innerHTML += html;
						 
						}
					
					}
					 
				});
				
				this.ol_object.addInteraction(this.select);	
				this.ol_object.removeInteraction(this.draw);
				this.ol_object.removeInteraction(this.modify);	
				
				break;
				
				case "Modify":
				
				if (this.modify) {
					
					this.ol_object.removeInteraction(this.modify);			
				
				}else{
				
					if (!this.select) {
						
						this.select = new ol.interaction.Select({
							wrapX: false
						});
						
					}
					
					var select = this.select;
				
					this.modify = new ol.interaction.Modify({
						features: select.getFeatures()
					});
					
				}			
				
				this.ol_object.addInteraction(this.select);
				this.ol_object.addInteraction(this.modify);	
				this.ol_object.removeInteraction(this.draw);
				
				break;
				
				default:
				
				this.draw = new ol.interaction.Draw({
					source: this.drawing.source,
					type:type			
				});
					
				this.ol_object.addInteraction(this.draw);	
				this.ol_object.removeInteraction(this.select);
				this.ol_object.removeInteraction(this.modify);	
				
				break;
				
			}			
			
		}
	
	}
	
	this.map.medicion = function(type,node) {
		
		if ($(node).hasClass("toggleable-tool-active")) {
			
			this.medicion.source.clear();
			
			if (this.medi_draw) { this.ol_object.removeInteraction(this.medi_draw); }
			
			$(node).removeClass("toggleable-tool-active");
			
			this.ol_object.infoEnabled = true;
			
			jwindow.close("popup-medicion");
			
		}else{
			
			$(".toggleable-tool-active").not(node).trigger("click");
			$(node).addClass("toggleable-tool-active");		
			this.ol_object.infoEnabled = false;
			
			if (!this.medicion.source) {
			
				this.medicion.source = new ol.source.Vector({
					wrapX: false
				});
				
				this.medicion.sourcePoints = new ol.source.Vector({
					wrapX: false
				});
				
				this.medicion.layerVector = new ol.layer.Vector({
					source: this.medicion.source
				});
				
				this.medicion.layerPointVector = new ol.layer.Vector({
					source: this.medicion.sourcePoints
				});
				
				this.ol_object.addLayer(this.medicion.layerVector);
				this.ol_object.addLayer(this.medicion.layerPointVector);
			
			}
			
			this.medicion.source.clear();
			
			this.medi_draw = new ol.interaction.Draw({
				source: this.medicion.source,
				type:type	
			});

			this.medi_draw.on('drawend', function (e) {
				
				var format = new ol.format.WKT();
				
				var wkt = format.writeGeometry(e.feature.getGeometry().transform('EPSG:3857', 'EPSG:4326'));
				
				var wktext = wkt;
				
				var wkt = format.writeGeometry(e.feature.getGeometry().transform('EPSG:4326', 'EPSG:3857'));	
								
				var req = $.ajax({
					
					async:false,
					type:"post",
					url:"./php/get-medicion.php",
					data:{wkt:wkt,type:type},
					success:function(d){}
					
				});
				
				document.getElementById("info-medicion").innerHTML = req.responseText;
				
				jwindow.open("popup-medicion");
				
			}.bind(this));
			
			this.ol_object.addInteraction(this.medi_draw);
		
		}
		
	}
	
	this.map.ptopografico = function(node) {
		
		if ($(node).hasClass("toggleable-tool-active")) {
			
			this.ptopografico.source.clear();
			
			if (this.ptopo_draw) { this.ol_object.removeInteraction(this.ptopo_draw); }
			
			$(node).removeClass("toggleable-tool-active");
			
			this.ol_object.infoEnabled = true;
			
			jwindow.close("popup-ptopografico");
			
		}else{
			
			$(".toggleable-tool-active").not(node).trigger("click");
			$(node).addClass("toggleable-tool-active");
			this.ol_object.infoEnabled = false;
			
			if (!this.ptopografico.source) {
			
				this.ptopografico.source = new ol.source.Vector({
					wrapX: false
				});
				
				this.ptopografico.sourcePoints = new ol.source.Vector({
					wrapX: false
				});
				
				this.ptopografico.layerVector = new ol.layer.Vector({
					source: this.ptopografico.source
				});
				
				this.ptopografico.layerPointVector = new ol.layer.Vector({
					source: this.ptopografico.sourcePoints
				});
				
				this.ol_object.addLayer(this.ptopografico.layerVector);
				this.ol_object.addLayer(this.ptopografico.layerPointVector);
			
			}
			
			this.ptopo_draw = new ol.interaction.Draw({
				source: this.ptopografico.source,
				type:"LineString"			
			});
			
			this.ptopo_draw.on('drawend', function (e) {
				
				jwindow.open("popup-preloader");
				
				var format = new ol.format.WKT();
				
				var wkt = format.writeGeometry(e.feature.getGeometry().transform('EPSG:3857', 'EPSG:4326'));		
				
				var wktext = wkt;
				
				var wkt = format.writeGeometry(e.feature.getGeometry().transform('EPSG:4326', 'EPSG:3857'));	
				
				DrawChart(wktext,this.ptopografico.layerVector,this.ptopografico.sourcePoints);
				
			}.bind(this));
			
			this.ol_object.addInteraction(this.ptopo_draw);
		
		}
		
	}
	
	this.map.fixPopup = function(adv) {
		
		if (adv) {
		
			// ARREGLAR FIX POPUP
			var pb_h = $("#popup-body").height();
			var s_h = $("#geovisor-popup-search").height();
			
			var n_h = (pb_h-s_h-300);
			
			$("#dynbox-popup-layers").css("height",n_h+"px");
			
		}else{		
		
			// ARREGLAR FIX POPUP
			var pb_h = $("#popup-body").height();
			var s_h = $("#geovisor-popup-search").height();
			
			var n_h = (pb_h-s_h-300);
			
			$("#dynbox-popup-layers").css("height",n_h+"px");
			
		}
		
	}
	
	this.map.togglePopupLayers = function(node) {
		
		var nodeState = $(node).closest(".popup-layer-node").attr("data-state");
		
		if (nodeState == 0) {
			
			$(node).closest(".popup-layer-node").addClass("popup-layer-node-active");
			
			$(node).closest(".popup-layer-node").each(function(i,v) {
				
				$(v).find(".layer-icon").each(function(j,x) {
					
					var srcSource = $(x).children("a").children("img").attr("data-active");
					
					$(x).children("a").children("img").attr("src",srcSource);
					
				});
				
			});
			
			$(node).closest(".popup-layer-node").attr("data-state","1");
		
		}else{
			
			$(node).closest(".popup-layer-node").removeClass("popup-layer-node-active");
			
			$(node).closest(".popup-layer-node").each(function(i,v) {
				
				$(v).find(".layer-icon").each(function(j,x) {
					
					var srcSource = $(x).children("a").children("img").attr("data-inactive");
					
					$(x).children("a").children("img").attr("src",srcSource);
					
				});
				
			});
			
			$(node).closest(".popup-layer-node").attr("data-state","0");
			
		}
		
		$(node).closest(".popup-layer-node").next(".popup-layer-content").slideToggle("fast",function() { scroll.refresh(); });
		
	}
	
	this.map.fixLegend = function(layer_id) {
		
		var node = $("#layer-legend-"+layer_id);

		var nodeWidth = $(node).width();

		var nodeSon = $(node).children("img");
		
		var nodeSonWidth = $(node).children("img").width();
		
		if (nodeSonWidth >= nodeWidth) {
			
			$(nodeSon).attr("width","95%");
			
		}
		
	}
	
	// PANEL SCRIPTS 
	
	this.panel.map = this.map;
	
	this.panel.start = function() {
		
		var height = $("#nav-panel").height();
		
		$("#nav-panel-inner").height(height-34);
		
		$("#layer-bullet").on("click",function() {
			
			var navWidth = $("#nav-panel").width();
			var navState = $("#nav-panel").attr("data-visible");
			
			flotant.toggle('#nav-panel',true,function() {
				
				if (navState == 1) {
					
					$("#layer-bullet").animate({"left":"0px"},"fast");
					
				}else{
					
					$("#layer-bullet").animate({"left":(navWidth-59)+"px"},"fast");
					
				}
				
			});
			
		});
		
		$("#btn-bus-simple").on("click",function() {
			
			$("#geovisor-popup-search").slideUp();
			$("#geovisor-popup-search-mobile").slideUp();
			$("#popup-basic-filters").slideDown();
			$("#popup-header .button").removeClass("button-active");
			$(this).addClass("button-active");
			
			geomap.map.fixPopup(false);
			scroll.refresh();
			
		});
		
		$("#btn-bus-advanced").on("click",function() {
			
			$("#geovisor-popup-search").slideDown();
			$("#geovisor-popup-search-mobile").slideDown();
			$("#popup-basic-filters").slideUp();
			$("#popup-header .button").removeClass("button-active");
			$(this).addClass("button-active");
			
			geomap.map.fixPopup(true);
			scroll.refresh();
			
		});
		
		$("#btn-bus-reset").on("click",function() {
			
			$("#frm-adv-search input[type=text]").val("");
			$("#frm-adv-search select").val(-1);
			$("#frm-adv-search select").selectpicker("refresh");

			$("#popup-basic-filters input[type=checkbox]:checked").trigger("click");
			
			$("#filtered-layer-list").empty();
			
			geomap.map.fixPopup(true);
			scroll.refresh();
			
		});
		
		$(".default-empty-checkbox").each(function(i,v) {
			
			v.checked = false;
			
		});
		
		$(".phanel .panel-arrow-link").each(function(i,v) {
			
			$(v).on("click",function() {
				
				if (v.getAttribute("data-state") == 1) {
													
					$(v).parent().parent().parent().animate({
						
						left:$("#page").offset().left-370 + "px"
						
					},1000,function() {
						
						$(v).children("img").attr("src","./images/panel.icon.arrow.0.png");
						
					});
					
					$(v).attr("data-state",0);
					
				}else{
					
					$(v).parent().parent().parent().animate({
						
						left:$("#page").css("left")
						
					},1000,function() {
						
						$(v).children("img").attr("src","./images/panel.icon.arrow.1.png");
						
					});
					
					$(v).attr("data-state",1);
				}
				
			});
			
		});
		
		$(".panel-abr").on("click",function() {
			
			if (this.getAttribute("data-active") == 0) {
				
				$(".panel-abr").attr("data-active","0");
				//$(".panel-abr").css("border-color","transparent");
				//$(".panel-abr").css("background-color","transparent");
				$(".panel-abr").css("background-color","#F5F5F5");
				$(".panel-abr").css("color","#888888");
				
				$(this).attr("data-active","1");
				//$(this).css("border-color",this.getAttribute("data-color"));
				//$(this).css("background-color",this.getAttribute("data-bgcolor"));
				$(this).css("background-color","#31cbfd");
				$(this).css("color","#FFFFFF");
				
				$(".layer-container").not(".layer-container[data-cid="+this.getAttribute("data-cid")+"]").hide();
				$(".layer-container[data-cid="+this.getAttribute("data-cid")+"]").show();
				
				//$("#abr-container").first(".panel-abr").prepend(this);			
				scroll.refresh();
				
			}
			
		});
		
		$("#panel-seach-input").on("focus",function() {
			
			$(".popup").hide();
			$("#popup-busqueda").show();
			
			this.map.ol_object_mini.updateSize();
			this.map.ol_object_mini.render();
			
		}.bind(this));
		
		$(".basic-filter-checkbox").each(function(i,v) {
			
			$(v).on("click",function() {
			
				this.UpdatePopupListBasic();
				
			}.bind(this));
			
		}.bind(this));
		
		$("#btn-adv-search").on("click",function() {
			
			this.UpdatePopupListAdvanced();
			
		}.bind(this));
		
		$("#btn-adv-search-mobile").on("click",function() {
			
			this.UpdatePopupListAdvanced();
			
		}.bind(this));
		
		$(".simple-tree-pm-button").each(function(i,v) {
			
			$(v).on("click",function() {
			
				if ($(v).children("i").hasClass("fa-angle-up")) {
					
					$(v).children("i").removeClass("fa-angle-up");
					$(v).children("i").addClass("fa-angle-down");
					
				}else{
					
					$(v).children("i").removeClass("fa-angle-down");
					$(v).children("i").addClass("fa-angle-up");
					
				}
				
				$(v).parent().next('.layer-body').slideToggle('slow');
			
			});
			
		});
		
		$("form input").val("");
		$("form select").prop("selectedIndex", 0);
		$("form select").selectpicker("refresh");
		
		$(".layer-icon-buffer").each(function(i,v) {
			
			$(v).bind("click",function() {
				
				if ($(v).attr("data-state") == 1) {
					
					var layer_id = $(v).attr("data-lid");
					
					if (this.map.layersBuffer[layer_id]) {
						this.map.layersBuffer[layer_id].destroy();
						this.map.layersBuffer[layer_id] = false;
					}
					
					
				}
				
			}.bind(this));
			
		}.bind(this));
		
	}
	
	this.panel.UpdatePopupListBasic = function() {
		
		var filter = [];
		
		$(".basic-filter-checkbox").each(function() {
			
			if (this.checked) {
				
				filter.push(this.getAttribute("data-spid"));
				
			}
			
		});
		
		var geovisor = this.map.geovisor;
		
		var req = $.ajax({
			
			async:false,
			type:"post",
			data:{proyectos:filter,geovisor:geovisor},
			url:"./php/filter-proyectos-basic.php",
			success:function(d){}
			
		});
		
		$("#filtered-layer-list").html(req.responseText);		
		
		scroll.refresh();		
		
		$(".popup-panel-tree-item-header").on("click",function() {
			
			if (this.parentNode.getAttribute("data-state") == 1) {
				
				$(this).find(".popup-panel-tree-item-icon").removeClass("far").removeClass("popup-icon-active").addClass("fas");
				
				$(this).find(".popup-panel-tree-item-label").removeClass("popup-text-active");
				
				$(this).find(".popup-panel-tree-item-icon-toggler").removeClass("fa-angle-up").addClass("fa-angle-down");
				
				$(this).next(".popup-panel-tree-item-subpanel").slideToggle("slow",function() {					
					
					scroll.refresh();
					
				});
				
				this.parentNode.setAttribute("data-state",0);
				
			}else{
				
				$(this).find(".popup-panel-tree-item-icon").addClass("far").addClass("popup-icon-active").removeClass("fas");
				
				$(this).find(".popup-panel-tree-item-label").addClass("popup-text-active");
				
				$(this).find(".popup-panel-tree-item-icon-toggler").removeClass("fa-angle-down").addClass("fa-angle-up");
				
				$(this).next(".popup-panel-tree-item-subpanel").slideToggle("slow",function() {					
					
					scroll.refresh();
					
				});
				
				this.parentNode.setAttribute("data-state",1);
				
			}
			
		});
	}
	
	this.panel.UpdatePopupListAdvanced = function(mode) {
		
		if ($("#frm-adv-search:visible").length > 0) {
			
			var filter = $("#frm-adv-search").serialize();
			
		}else{
			
			var filter = $("#frm-adv-search-mobile").serialize();
			
		}
		
		var geovisor = this.map.geovisor;
		
		var req = $.ajax({
			
			async:false,
			type:"post",
			data:filter+"&geovisor="+geovisor,
			url:"./php/filter-proyectos-advanced.php",
			success:function(d){}
			
		});
		
		$("#filtered-layer-list").html(req.responseText);		
		
		scroll.refresh();		
		
		$(".popup-panel-tree-item-header").on("click",function() {			
			
			if (this.parentNode.getAttribute("data-state") == 1) {
				
				$(this).find(".popup-panel-tree-item-icon").removeClass("far").removeClass("popup-icon-active").addClass("fas");
				
				$(this).find(".popup-panel-tree-item-label").removeClass("popup-text-active");
				
				$(this).find(".popup-panel-tree-item-icon-toggler").removeClass("fa-minus-circle").addClass("fa-plus-circle");
				
				$(this).next(".popup-panel-tree-item-subpanel").slideToggle("slow",function() {					
					
					scroll.refresh();
					
				});
				
				this.parentNode.setAttribute("data-state",0);
				
			}else{
				
				$(this).find(".popup-panel-tree-item-icon").addClass("far").addClass("popup-icon-active").removeClass("fas");
				
				$(this).find(".popup-panel-tree-item-label").addClass("popup-text-active");
				
				$(this).find(".popup-panel-tree-item-icon-toggler").removeClass("fa-plus-circle").addClass("fa-minus-circle");
				
				$(this).next(".popup-panel-tree-item-subpanel").slideToggle("slow",function() {					
					
					scroll.refresh();
					
				});
				
				this.parentNode.setAttribute("data-state",1);
				
			}
			
		});
		
	}
	
	this.panel.PreviewLayer = function(layer_id) {
		
		var req = $.ajax({
			
			async:false,
			url:"./php/get-layer-preview.php",
			type:"post",
			data:{layer_id:layer_id},
			success:function(d){}
			
		});
		
		$("#layer-preview-block").html(req.responseText);
		
		var clase_id = $(".layer-group[data-layer="+layer_id+"]").attr("data-cid");		
		$("#btn-layer-preview-addlayer").attr("onclick","geomap.panel.AddLayer(" + clase_id + "," + layer_id + ",true,true)");
		
		$("#btn-layer-preview-addlayer").show();
		$("#btn-layer-preview-gomap").show();
		
		if (!document.getElementById("layer-checkbox-"+layer_id).layer_preview) {
			
			var layer_name = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer");
			var layer_wms = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-wms");
			
			document.getElementById("layer-checkbox-"+layer_id).layer_preview = new ol.layer.Tile({
				visible:true,
				source: new ol.source.TileWMS({
					url: layer_wms,
					params: {
						'LAYERS': layer_name,
						'VERSION': '1.1.1',
						'FORMAT': 'image/png',
						'TILED': false
					}
				})
			});
			
			this.map.ol_object_mini.addLayer(document.getElementById("layer-checkbox-"+layer_id).layer_preview);

		}
		
		var js = this.map.getLayerExtent(layer_id);
		
		var allLayers = geomap.map.ol_object_mini.getLayers().getArray();
		
		for (var i=0; i<allLayers.length; i++) {
			
			if (allLayers[i].get('name') != "google_base") {
				
				allLayers[i].setVisible(false);
			
			}
			
		}
		
		document.getElementById("layer-checkbox-"+layer_id).layer_preview.setVisible(true);
		
		var extent = ol.proj.transformExtent(
			[js.minx,js.miny,js.maxx,js.maxy],
			"EPSG:3857", "EPSG:3857"
		);
		
		this.map.ol_object_mini.getView().fit(extent,{duration:1000});
		this.map.ol_object_mini.updateSize();
		this.map.ol_object_mini.render();
		
	}
	
	this.panel.SetLayerActive = function(layer_id) {
		
		$(".layer-group[data-layer="+layer_id+"] .layer-label").addClass("layer-label-active");
		$(".layer-group[data-layer="+layer_id+"] .layer-body").show();
		
	}
	
	this.panel.AddLayer = function(clase_id,layer_id,startActive,visible) {
		
		$(".abr[data-cid="+clase_id+"]").show();
		$(".abr[data-cid="+clase_id+"]").trigger("click");
		$(".layer-group[data-layer="+layer_id+"]").show();
		
		if (startActive) {
			
			//$(".layer-group[data-layer="+layer_id+"] .layer-label").addClass("layer-label-active");
			//$(".layer-group[data-layer="+layer_id+"] .layer-body").show();
			
		}else{
			
			//$(".layer-group[data-layer="+layer_id+"] .layer-label").removeClass("layer-label-active");
			//$(".layer-group[data-layer="+layer_id+"] .layer-body").hide();
			
		}
					
		if (document.getElementById("layer-checkbox-"+layer_id)) {
			var layer_name = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer");
		}
		
		if (document.getElementById("layer-checkbox-"+layer_id)) {
			var layer_wms = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-wms");
		}
		
		if (visible) {
		
			this.CreateLayer(layer_id,layer_wms,layer_name,clase_id);
			
		}
		
		//document.getElementById("layer-checkbox-"+layer_id).layer.setVisible(false);
		
		$("#layer-checkbox-"+layer_id).bind("click",function() {
			
			if (document.getElementById("layer-checkbox-"+layer_id).checked) {
				
				if (!document.getElementById("layer-checkbox-"+layer_id).layer) {
					
					this.CreateLayer(layer_id,layer_wms,layer_name,clase_id);
					
				}else{
				
					document.getElementById("layer-checkbox-"+layer_id).layer.setVisible(true);
				
				}
				
			}else{
				
				document.getElementById("layer-checkbox-"+layer_id).layer.setVisible(false);
				
			}
			
		}.bind(this));
			
		//$( "#amount" ).val( "$" + $( "#slider-range" ).slider( "values", 0 ) + " - $" + $( "#slider-range" ).slider( "values", 1 ) );
		
	}
	
	this.panel.CreateLayer = function(layer_id,layer_wms,layer_name,clase_id) {
					
		document.getElementById("layer-checkbox-"+layer_id).layer = new ol.layer.Tile({
			name:layer_name,
			visible:true,
			source: new ol.source.TileWMS({
				url: layer_wms,
				params: {
					'LAYERS': layer_name,
					'VERSION': '1.1.1',
					'FORMAT': 'image/png',
					'TILED': false,
					'clase_id':clase_id,
					'layer_id':layer_id
				}/*,
				crossOrigin: 'anonymous'*/
			})
		});
		
		this.map.ol_object.addLayer(document.getElementById("layer-checkbox-"+layer_id).layer);
		
		$("#layer-checkbox-"+layer_id).attr("data-added","1");
		
		document.getElementById("layer-checkbox-"+layer_id).layer.colorpicker = true;

		var colorpickerInput = $("#layer-colorpicker-inner-"+layer_id);
		
		colorpickerInput.spectrum({
			color: "#ECC",
			flat: true,
			showInput: true,
			className: "full-spectrum",
			showInitial: true,
			showPalette: true,
			showSelectionPalette: true,
			maxPaletteSize: 10,
			preferredFormat: "hex",
			localStorageKey: "spectrum.example",
			chooseText: "Seleccionar",
			cancelText: "Cancelar",
			move: function (color) {
			},
			show: function () {

			},
			beforeShow: function () {

			},
			hide: function (color) {
			},
			change: function(color) {
				
				var layer = document.getElementById("layer-checkbox-"+layer_id).layer;
				var layer_name = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer");
				var type = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer-type");
				var layer_types = ['',0,1,2,2,1,0,0];
				var cl = String(color);
					cl = cl.substring(1,cl.length).trim();
				
				s = new sldlib();
				
				s.set_geometria(layer_types[type]);
				s.set_fill_color(cl);
				s.set_border_color('CCCCCC');
				s.set_border_size(1);
				s.set_size(8.3444);
				s.set_simbolo('circle');
				s.set_titulo(layer_name);
				
				sld_result = s.sld_get(layer_id);
				
				layer.getSource().updateParams({
					
					'sld_body':sld_result
					
				})
				
				//layer.changed();
				layer.getSource().tileCache.expireCache({});
				layer.getSource().tileCache.clear();
				layer.getSource().refresh();
				
				$("#palette-clear-layer").remove();
				
				$(".sp-palette-row-selection").append(
					$("<span></span>")
						.attr("class","sp-thumb")
						.attr("id","palette-clear-layer")
						.attr("title","Reiniciar Estilo")
						.css({
							display:"inline-flex",
							justifyContent:"center",
							alignItems:"center",
							cursor:"pointer",
							width:"18px",
							height:"18px"
						})
						.append($("<i></i>").attr("class","fas fa-ban").css("color","red"))
						.on("click",function() {
							
							var layer = document.getElementById("layer-checkbox-"+layer_id).layer;
							var layer_name = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer");
							var type = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer-type");
							var layer_types = ['',0,1,2,2,1,0,0];
							var cl = String(color);
								cl = cl.substring(1,cl.length).trim();
							
							s = new sldlib();
							
							sld_result = s.sld_get(layer_id);
							
							s.clear();
							
							layer.getSource().updateParams({
								
								'sld_body':sld_result
								
							})
							
							//layer.changed();
							layer.getSource().tileCache.expireCache({});
							layer.getSource().tileCache.clear();
							layer.getSource().refresh();
							
						})
				);
				
			},

			palette: [
				["rgb(0, 0, 0)", "rgb(67, 67, 67)", "rgb(102, 102, 102)","rgb(255, 255, 255)",
				"rgb(152, 0, 0)", "rgb(255, 0, 0)", "rgb(255, 153, 0)", "rgb(255, 255, 0)", "rgb(0, 255, 0)",
				"rgb(0, 255, 255)", "rgb(74, 134, 232)", "rgb(0, 0, 255)", "rgb(153, 0, 255)", "rgb(255, 0, 255)",
				"rgb(230, 184, 175)", "rgb(244, 204, 204)", "rgb(252, 229, 205)", "rgb(255, 242, 204)", "rgb(217, 234, 211)",
				"rgb(208, 224, 227)", "rgb(201, 218, 248)", "rgb(207, 226, 243)", "rgb(217, 210, 233)", "rgb(234, 209, 220)",
				"rgb(221, 126, 107)", "rgb(234, 153, 153)", "rgb(249, 203, 156)", "rgb(255, 229, 153)", "rgb(182, 215, 168)",
				"rgb(162, 196, 201)", "rgb(164, 194, 244)", "rgb(159, 197, 232)", "rgb(180, 167, 214)", "rgb(213, 166, 189)",
				"rgb(204, 65, 37)", "rgb(224, 102, 102)", "rgb(246, 178, 107)", "rgb(255, 217, 102)", "rgb(147, 196, 125)",
				"rgb(118, 165, 175)", "rgb(109, 158, 235)", "rgb(111, 168, 220)", "rgb(142, 124, 195)", "rgb(194, 123, 160)",
				"rgb(166, 28, 0)", "rgb(204, 0, 0)", "rgb(230, 145, 56)", "rgb(241, 194, 50)", "rgb(106, 168, 79)",
				"rgb(69, 129, 142)", "rgb(60, 120, 216)", "rgb(61, 133, 198)", "rgb(103, 78, 167)", "rgb(166, 77, 121)",
				"rgb(91, 15, 0)", "rgb(102, 0, 0)", "rgb(120, 63, 4)", "rgb(127, 96, 0)", "rgb(39, 78, 19)",
				"rgb(12, 52, 61)", "rgb(28, 69, 135)", "rgb(7, 55, 99)", "rgb(32, 18, 77)", "rgb(76, 17, 48)"]
			]
		});
		
		/*$("#layer-colorpicker-inner-"+layer_id).ColorPicker({
			flat: true, 
			width:"100%",
			onSubmit: function (hsb, hex, rgb) {
				
				//var layer_types = ["","GEOMETRY","LINESTRING","POLYGON","MULTIPOLYGON","MULTILINESTRING","POINT","MULTIPOINT");
				var layer = document.getElementById("layer-checkbox-"+layer_id).layer;
				var color = hex;
				var layer_name = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer");
				var type = document.getElementById("layer-checkbox-"+layer_id).getAttribute("data-layer-type");
				var layer_types = ['',0,1,2,2,1,0,0];
				
				s = new sldlib();
				
				s.set_geometria(layer_types[type]);
				s.set_fill_color("#"+hex);
				s.set_border_color('#CCCCCC');
				s.set_border_size(1);
				s.set_size(8.3444);
				s.set_simbolo('circle');
				s.set_titulo(layer_name);
				
				sld_result = s.sld_get();
				
				layer.getSource().updateParams({
					
					'sld_body':sld_result
					
				})
				
				//layer.changed();
				layer.getSource().tileCache.expireCache({});
				layer.getSource().tileCache.clear();
				layer.getSource().refresh();
				
			}
		});*/
		
		$(".layer-group[data-layer="+layer_id+"] .layer-label").bind("click",function() {
			
			$("#layer-legend-"+layer_id).html("<img onload=\"geomap.map.fixLegend("+layer_id+")\"; src=\"" + layer_wms + "&version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer="+layer_name+"&format=image/png&\">");
			
		});
		
		
		if ($("#nav-panel").attr("data-visible") == 0) {
			
			$("#layer-bullet").trigger("click");
			
		}
		
		$("#layer-checkbox-"+layer_id).attr("data-added","1");
		
		$("#transp-value-"+layer_id).val(100+"%");
		
		$( "#slider-range-"+layer_id ).slider({			
			values: [ 100 ],
			slide: function( event, ui ) {
				$("#transp-value-"+layer_id).val(ui.values[ 0 ]+"%");
				document.getElementById("layer-checkbox-"+layer_id).layer.setOpacity(ui.values[0]/100);				
			}
		});
		
		this.AddLayerActive(clase_id,layer_id,false,-1,-1);
		this.map.updateLayerCount();
		this.updateLayerCountPanelLabel(clase_id);
		
		document.getElementById("layer-checkbox-"+layer_id).click();
		
	}
	
	this.panel.bufferIndex = 0;
	this.panel.statsLayerIndex = 0;
	
	this.panel.AddLayerActive = function(clase_id,layer_id,isBuffer,bufferLayer,distance) {
		
		$("#nolayer-active").remove();
		
		var dataLidLabel = "data-lid";
		
		var container = document.getElementById("info-capasactivas-inner");
		
		var node = document.createElement("div");
			node.className = "active-layer-node";	
			node.setAttribute(dataLidLabel,layer_id);
			node.setAttribute("data-cid",clase_id);
			
		var nodeicons = document.createElement("div");
			nodeicons.className = "active-layer-node-icons";
			
		var nodeupdown = document.createElement("div");
			nodeupdown.className = "updown-layer-icon-ca";
			
		var nodeup = document.createElement("div");
			nodeup.className = "up-layer-icon-ca";
			nodeup.node = node;
			nodeup.panel = this;
			nodeup.onclick = function() {
				
				$(this.node).prev(".active-layer-node").before(node);				
				this.panel.RefreshActiveZIndex();
				
			}
			
		var nodedown = document.createElement("div");
			nodedown.className = "down-layer-icon-ca";
			nodedown.node = node;
			nodedown.panel = this;
			nodedown.onclick = function() {
				
				$(this.node).next(".active-layer-node").after(node);				
				this.panel.RefreshActiveZIndex();
				
			}
			
			nodeupdown.appendChild(nodeup);
			nodeupdown.appendChild(nodedown);
		
		var new_id = "active-layer-clone-" + clase_id + "-" + layer_id;
		
		if ($("#info-capasactivas").find("#"+new_id).length == 0) {
		
			$(".abr[data-cid="+clase_id+"]").first().clone().attr("id",new_id).addClass("abr-cloned").width(32).css("background-color","rgb(245, 245, 245)").css("color","rgb(136, 136, 136)").appendTo(node);
				
			if (isBuffer) {
				
				this.bufferIndex++;
				
				sublayer_id = "layer-buffer-" + layer_id + "-" + this.bufferIndex;
				
				$("#layer-checkbox-"+layer_id).parent().clone().attr("id",sublayer_id).on("click",function() {
					
					if (bufferLayer.getVisible()) {
						
						bufferLayer.setVisible(false);
							
					}else{
							
						bufferLayer.setVisible(true);
							
					}
					
				}).appendTo(node);
			
			}else{
								
				$("#layer-checkbox-"+layer_id).parent().clone().on("click",function() {
					
					$("#layer-checkbox-"+layer_id).trigger("click");
					
				}).appendTo(node);
				
			}
			
			var text = $("#layer-checkbox-"+layer_id).parent().next().text();
			
			/*if (text.length > 33) {
				
				text = text.substring(0,33) + "...";
				
			}*/
			
			if (isBuffer) { text = "Buffer: " + text + ", Distancia: " + distance }
			
			$("#layer-checkbox-"+layer_id).parent().next().clone().attr("onclick","").text(text).css("cursor","text").appendTo(node);	
			
			nodeicons.appendChild(nodeupdown);
			
			$("#layer-checkbox-"+layer_id).parent().next().next().clone().removeAttr("id").removeAttr("onclick").addClass("remove-layer-icon-ca").bind("click",function() {
				
				if (isBuffer) {
					
					geomap.map.ol_object.removeLayer(layerBuffer);
					$("#"+sublayer_id).parent().remove();
				
				}else{
					
					$("#remove-layer-icon-"+layer_id).trigger("click");
					
				}
				
				if ($("#info-capasactivas-inner").children(".active-layer-node").length == 0) {
					
					$("#info-capasactivas-inner").html("<p id=\"nolayer-active\" class=\"p20\">No hay capas activas, para agregar capas al mapa utilice el botn correspondiente ubicado en la barra de herramientas.</p>");
					
				}
				
			}).appendTo(nodeicons);		
			
			$("#layer-icon-zoomext-"+layer_id).clone().removeAttr("id").addClass("zoomext-layer-icon-ca").bind("click",function() {
				
				$("#layer-icon-zoomext-"+layer_id).trigger("click");
				
			}).appendTo(nodeicons);
			
			node.appendChild(nodeicons);
			
					
		}		
			
		container.appendChild(node);
		
		this.RefreshActiveZIndex();
		
	}
	
	this.panel.AddLayerActiveFromStats = function(query_id,layer) {
		
		$("#nolayer-active").remove();
		
		var layer_id = this.map.layersStatsIndex;
		var clase_id = this.map.layersStatsIndex;
		this.map.layersStats[this.map.layersStatsIndex] = layer;
		
		this.map.layersStatsIndex++;
		
		var dataLidLabel = "data-lid";
		
		var container = document.getElementById("info-capasactivas-inner");
		
		var node = document.createElement("div");
			node.className = "active-layer-node";	
			node.setAttribute(dataLidLabel,layer_id);
			node.setAttribute("data-cid",clase_id);
			
		var nodeicons = document.createElement("div");
			nodeicons.className = "active-layer-node-icons";
			
		var nodeupdown = document.createElement("div");
			nodeupdown.className = "updown-layer-icon-ca";
			
		var nodeup = document.createElement("div");
			nodeup.className = "up-layer-icon-ca";
			nodeup.node = node;
			nodeup.panel = this;
			nodeup.onclick = function() {
				
				$(this.node).prev(".active-layer-node").before(node);				
				this.panel.RefreshActiveZIndex();
				
			}
			
		var nodedown = document.createElement("div");
			nodedown.className = "down-layer-icon-ca";
			nodedown.node = node;
			nodedown.panel = this;
			nodedown.onclick = function() {
				
				$(this.node).next(".active-layer-node").after(node);				
				this.panel.RefreshActiveZIndex();
				
			}
			
			nodeupdown.appendChild(nodeup);
			nodeupdown.appendChild(nodedown);
			
		var nodezoomext = document.createElement("div");
			nodezoomext.className = "layer-icon zoomext-layer-icon-ca";
		
		var nodezoomexta = document.createElement("a");
			nodezoomexta.href = "javascript:void(0);";
			nodezoomexta.onclick = function() {
				
				var reqExtent = $.ajax({
			
					async:false,
					url:"./php/get-layer-extent-mapeo.php",
					type:"post",
					data:{query_id:query_id},
					success:function(d){}
						
				});
				
				var js = JSON.parse(reqExtent.responseText);
				
				var extent = ol.proj.transformExtent(
					[js.minx,js.miny,js.maxx,js.maxy],
					"EPSG:3857", "EPSG:3857"
				);
				
				this.map.ol_object.getView().fit(extent,{duration:1000});
				this.map.ol_object.updateSize();
				this.map.ol_object.render();
				
			}.bind(this);
			
		var nodezoomextimg = document.createElement("img");
			nodezoomextimg.src = "./images/geovisor/icons/layer-bar-zoom.png";
			
			nodezoomext.appendChild(nodezoomexta);
			nodezoomexta.appendChild(nodezoomextimg);
			
		var noderemove = document.createElement("a");
			noderemove.className = "simple-tree-pm-button remove-layer-icon-ca";
			noderemove.href = "javascript:void(0);";
			noderemove.onclick = function() {
				
				$(noderemove).closest(".active-layer-node").remove();
				this.map.ol_object.removeLayer(layer);
				
				if ($("#info-capasactivas-inner").children(".active-layer-node").length == 0) {
					
					$("#info-capasactivas-inner").html("<p id=\"nolayer-active\" class=\"p20\">No hay capas activas, para agregar capas al mapa utilice el botn correspondiente ubicado en la barra de herramientas.</p>");
					
				}
				
			}.bind(this);
			
		var noderemovei = document.createElement("i");
			noderemovei.className = "fa fa-trash popup-panel-tree-item-icon-toggler popup-icon";
			
			noderemove.appendChild(noderemovei);
			
			nodeicons.appendChild(nodeupdown);
			nodeicons.appendChild(nodezoomext);
			nodeicons.appendChild(noderemove);
		
		var abr = document.createElement("div");
			abr.className = "abr panel-abr abr-cloned";
			abr.style.width = "32px";
			abr.style.backgroundColor = "rgb(245, 245, 245)";
			abr.style.color = "rgb(136, 136, 136)";
			abr.innerHTML = "<span>DT</span>";
			abr.id = "active-layer-fromstats-"+this.statsLayerIndex;
		
			//$(".abr").first().clone().attr("id",new_id).addClass("abr-cloned").width(32).css("background-color","rgb(245, 245, 245)").css("color","rgb(136, 136, 136)").html("<span>DT</span>").appendTo(node);
		
		var pretty = document.createElement("div");
			pretty.className = "pretty p-default p-curve p-toggle";
			
		var layerCheck = document.createElement("input");
			layerCheck.id = "layer-checkbox-"+layer_id;
			layerCheck.className = "layer-checkbox default-empty-checkbox";
			layerCheck.style.display = "block";
			layerCheck.setAttribute("data-added","1");
			layerCheck.setAttribute("type","checkbox");
			layerCheck.layer = layer;
			layerCheck.onclick = function() {
				
				if (layer.getVisible()) {
					
					layer.setVisible(false);
						
				}else{
						
					layer.setVisible(true);
						
				}
				
			}
			
		var layerCheckDivon = document.createElement("div");
			layerCheckDivon.className = "state p-success p-on";
			layerCheckDivon.title = "Mostrar Capa";
			
		var layerCheckDivonIcon = document.createElement("i");
			layerCheckDivonIcon.className = "fa fa-eye";
			
			layerCheckDivon.appendChild(layerCheckDivonIcon);
			
		var layerCheckDivoff = document.createElement("div");
			layerCheckDivoff.className = "state p-danger p-off";
			layerCheckDivoff.title = "Ocultar Capa";
			
		var layerCheckDivoffIcon = document.createElement("i");
			layerCheckDivoffIcon.className = "fa fa-eye-slash";
			
			layerCheckDivoff.appendChild(layerCheckDivoffIcon);
			
			pretty.appendChild(layerCheck);
			pretty.appendChild(layerCheckDivoff);
			pretty.appendChild(layerCheckDivon);
			
		var layerLabel = document.createElement("a");
			layerLabel.className = "layer-label";
			layerLabel.style.cursor = "text";
			layerLabel.innerHTML = "Capa mapeada desde mdulo estadstico";			
			
			node.appendChild(abr);
			node.appendChild(pretty);
			node.appendChild(layerLabel);
			node.appendChild(nodeicons);
			
			this.statsLayerIndex++;
			
			container.appendChild(node);
		
			this.RefreshActiveZIndex();
		
	}
	
	this.panel.RefreshActiveZIndex = function() {
		
		var nodes = document.getElementsByClassName("active-layer-node");
				
		for (var i=0, j=nodes.length; i<nodes.length; i++,j--) {
			
			var layer_id = nodes[i].getAttribute("data-lid");
			
			if (document.getElementById("layer-checkbox-"+layer_id)) {
			
				document.getElementById("layer-checkbox-"+layer_id).layer.setZIndex(j);
			
			}else{
				
				if (document.getElementById("layer-buffer-"+layer_id)) {
					
					document.getElementById("layer-buffer-"+layer_id).layer.setZIndex(j);
					
				}
				
			}
						
		}
		
		if (this.map.markersLayer) {
			
			this.map.markersLayer.setZIndex(j+10000);
			
		}
		
	}
	
	this.panel.removeLayer = function(layer_id,clase_id) {
		
		$(".layer-group[data-layer="+layer_id+"]").hide();
		document.getElementById("layer-checkbox-"+layer_id).layer.setVisible(false);
		
		$("#layer-checkbox-"+layer_id).attr("data-added","0");
		
		var visibles = $(".layer-container[data-cid="+clase_id+"] .layer-group:visible").length;
		
		if (visibles == 0) {
			
			$(".layer-container[data-cid="+clase_id+"]").hide();
			$(".panel-abr[data-cid="+clase_id+"]").hide();
			$(".panel-abr[data-cid="+clase_id+"]").attr("data-active","0");
			
		}
		
		if (this.map.layersBuffer[layer_id]) {
		
			var layer = this.map.layersBuffer[layer_id];
			
			this.map.ol_object.removeLayer(layer);
			
			this.map.layersBuffer[layer_id] = false;
			
			$("#buffer-input-"+layer_id).val("");
			$("#buffer-input-"+layer_id).next().html("AGREGAR");
		
		}
		
		$(".active-layer-node[data-lid="+layer_id+"]").remove();
		
		if ($("#info-capasactivas-inner").children(".active-layer-node").length == 0) {
					
			$("#info-capasactivas-inner").html("<p id=\"nolayer-active\" class=\"p20\">No hay capas activas, para agregar capas al mapa utilice el botn correspondiente ubicado en la barra de herramientas.</p>");
			
		}
		
		this.updateLayerCountPanelLabel(clase_id);
		
	}
	
	this.panel.checkBuffer = function(layer_id,clase_id,node) {
		
		var state = node.getAttribute("data-state");
		
		if (state == 1) {
			
			var layer = this.map.layersBuffer[layer_id];
			
			this.map.ol_object.removeLayer(layer);
			
			this.map.layersBuffer[layer_id] = false;
			
			$("#buffer-input-"+layer_id).val("");
			$("#buffer-input-"+layer_id).next().html("AGREGAR");
			
		}
		
	}
	
	this.panel.updateLayerCountPanelLabel = function(clase_id) {
		
		var cant = $(".layer-container[data-cid="+clase_id+"]:visible").find(".layer-group:visible").length;
		$("#abr-layer-count-"+clase_id).html(cant);
		
	}
	
	// POPUP SCRIPTS
	
	this.popup.panel = this.panel;
	
	this.popup.startInterface = function() {
		
		$(".popup-header-button-toggleable").on("click",function() {
			
			var thistar = this.getAttribute("data-target");
			
			$(this).closest(".nav").find(".popup-header-button-toggleable").not(this).removeClass("popup-header-button-active");
			
			$(this).addClass("popup-header-button-active");
			
		});
		
		$(".popup-panel-tree-item-header").on("click",function() {
			
			if (this.parentNode.getAttribute("data-state") == 1) {
				
				$(this).find(".popup-panel-tree-item-icon").removeClass("far").removeClass("popup-icon-active").addClass("fas");
				
				$(this).find(".popup-panel-tree-item-label").removeClass("popup-text-active");
				
				$(this).find(".popup-panel-tree-item-icon-toggler").removeClass("fa-minus-circle").addClass("fa-plus-circle");
				
				$(this).next(".popup-panel-tree-item-subpanel").slideToggle("slow",function() {					
					
					scroll.refresh();
					
				});
				
				this.parentNode.setAttribute("data-state",0);
				
			}else{
				
				$(this).find(".popup-panel-tree-item-icon").addClass("far").addClass("popup-icon-active").removeClass("fas");
				
				$(this).find(".popup-panel-tree-item-label").addClass("popup-text-active");
				
				$(this).find(".popup-panel-tree-item-icon-toggler").removeClass("fa-plus-circle").addClass("fa-minus-circle");
				
				$(this).next(".popup-panel-tree-item-subpanel").slideToggle("slow",function() {					
					
					scroll.refresh();
					
				});
				
				this.parentNode.setAttribute("data-state",1);
				
			}
			
		});
		
		/*$(".btn-plus-layer").each(function(i,v) {
			
			$(v).on("click",function() {
				
				$(v).parent().next().slideToggle("slow");
					
				if ($(v).children("i").hasClass("fa-minus-circle")) {
					
					$(v).children("i").removeClass("fa-minus-circle");
					$(v).children("i").addClass("fa-plus-circle");
					
				}else{
						
					$(v).children("i").removeClass("fa-plus-circle");
					$(v).children("i").addClass("fa-minus-circle");
						
				}
				
			});
			
		});*/
		
		$("#btn-popup-basic").trigger("click");
		
		$(".layer-container-header .pretty .layer-checkbox").each(function(i,v) {
			
			$(v).on("click",function() {
				
				if (v.checked) {
					
					$(v).closest(".layer-container").find(".layer-container-body").find(".layer-checkbox:visible:not(:checked)").trigger("click");
					
				}else{
					
					$(v).closest(".layer-container").find(".layer-container-body").find(".layer-checkbox:visible:checked").trigger("click");				
					
				}
				
			});
			
		});
		
	}
	
	this.popup.fixSize = function(otherElements) {
		
		var docheight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
		var docwidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
		
		var otherElementsTotalHeight = 0;
		
		var left = $("#panel-left").width()+50;
		var nwidth = docwidth - left - 50;
		
		var windowTotalHeight = $(document).height();
		
		for (var i=0; i<otherElements.length; i++) {
			
			otherElementsTotalHeight += $(otherElements[i]).outerHeight();
		
		}
		
		var nheight = docheight - otherElementsTotalHeight;
		
		$("#popup-preloader").width(nwidth/3);
		$("#popup-preloader").css("top","50%");
		$("#popup-preloader").css("margin-top","-200px");
		$("#popup-preloader").css("left","50%");
		$("#popup-preloader").css("margin-left","-" + ((nwidth/3)/2) + "px");
		
		$("#print-legend-wrapper").width(nwidth/3);
		$("#print-legend-wrapper").height(300);
		
		$("#popup-buffer").css("right","20px");
		
		$("#info-wrapper").height(400);
		
	}

	this.popup.start = function() {
		
		this.startInterface();
		this.fixSize([document.getElementById("nav-1"),document.getElementById("nav-2")]);
		$(".popup").draggable({handle:".popup-header"});
		
	}
	
}